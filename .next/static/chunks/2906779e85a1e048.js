(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99682,e=>{"use strict";var t=e.i(71645);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},70152,e=>{"use strict";function t(e,[t,s]){return Math.min(s,Math.max(t,e))}e.s(["clamp",()=>t])},86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},88511,e=>{"use strict";let t=(0,e.i(75254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},69567,e=>{"use strict";var t=e.i(11795);e.s(["blogAPI",0,{async getAllCategories(){let{data:e,error:s}=await t.supabase.from("blog_categories").select("*").order("name");if(s)throw s;return e},async createCategory(e){let{data:s,error:a}=await t.supabase.from("blog_categories").insert(e).select().single();if(a)throw a;return s},async getAllPosts(e){let s=t.supabase.from("blog_posts").select("*, author:profiles(full_name, avatar_url), category:blog_categories(name, slug)").order("created_at",{ascending:!1});e?.status&&(s=s.eq("status",e.status)),e?.category_id&&(s=s.eq("category_id",e.category_id));let{data:a,error:l}=await s;if(l)throw l;return a},async getPostById(e){let{data:s,error:a}=await t.supabase.from("blog_posts").select("*, author:profiles(full_name, avatar_url), category:blog_categories(*)").eq("id",e).single();if(a)throw a;return s},async getPostBySlug(e){let{data:s,error:a}=await t.supabase.from("blog_posts").select("*, author:profiles(full_name, avatar_url), category:blog_categories(*)").eq("slug",e).single();if(a)throw a;return s},async createPost(e){let{data:s,error:a}=await t.supabase.from("blog_posts").insert(e).select().single();if(a)throw a;return s},async updatePost(e,s){let{data:a,error:l}=await t.supabase.from("blog_posts").update(s).eq("id",e).select().single();if(l)throw l;return a},async deletePost(e){let{error:s}=await t.supabase.from("blog_posts").delete().eq("id",e);if(s)throw s},async publishPost(e){let{data:s,error:a}=await t.supabase.from("blog_posts").update({status:"published",published_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw a;return s}}])},51252,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),l=e.i(7233),r=e.i(55436),i=e.i(88511),o=e.i(27612),c=e.i(86536),d=e.i(22016),n=e.i(69567),u=e.i(19455),h=e.i(93479),g=e.i(46696),m=e.i(67489);function x(){let[e,x]=(0,s.useState)([]),[p,b]=(0,s.useState)([]),[f,y]=(0,s.useState)(!0),[v,j]=(0,s.useState)(""),[w,N]=(0,s.useState)("");(0,s.useEffect)(()=>{P()},[w]);let P=async()=>{try{let[e,t]=await Promise.all([n.blogAPI.getAllPosts(w?{status:w}:void 0),n.blogAPI.getAllCategories()]);x(e||[]),b(t||[])}catch(e){g.toast.error("Failed to load blog data")}finally{y(!1)}},_=async t=>{if(confirm("Delete this post?"))try{await n.blogAPI.deletePost(t),x(e.filter(e=>e.id!==t)),g.toast.success("Post deleted")}catch(e){g.toast.error("Failed to delete")}},S=async e=>{try{await n.blogAPI.publishPost(e.id),P(),g.toast.success("Post published")}catch(e){g.toast.error("Failed to publish")}},C=e.filter(e=>e.title?.toLowerCase().includes(v.toLowerCase())||e.excerpt?.toLowerCase().includes(v.toLowerCase()));return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Blog Posts"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Create and manage your blog content"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(d.default,{href:"/admin/blog/categories",children:(0,t.jsx)(u.Button,{variant:"outline",children:"Manage Categories"})}),(0,t.jsx)(d.default,{href:"/admin/blog/new",children:(0,t.jsxs)(u.Button,{className:"bg-accent hover:bg-accent/90",children:[(0,t.jsx)(l.Plus,{className:"w-4 h-4 mr-2"})," New Post"]})})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 bg-card p-4 rounded-xl border border-border",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,t.jsx)(r.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(h.Input,{placeholder:"Search posts...",value:v,onChange:e=>j(e.target.value),className:"pl-9"})]}),(0,t.jsxs)(m.Select,{value:w,onValueChange:N,children:[(0,t.jsx)(m.SelectTrigger,{className:"w-[180px]",children:(0,t.jsx)(m.SelectValue,{placeholder:"All statuses"})}),(0,t.jsxs)(m.SelectContent,{children:[(0,t.jsx)(m.SelectItem,{value:"",children:"All"}),(0,t.jsx)(m.SelectItem,{value:"draft",children:"Draft"}),(0,t.jsx)(m.SelectItem,{value:"published",children:"Published"}),(0,t.jsx)(m.SelectItem,{value:"scheduled",children:"Scheduled"})]})]})]}),f?(0,t.jsx)("div",{className:"text-center py-20",children:"Loading posts..."}):0===C.length?(0,t.jsxs)("div",{className:"text-center py-20 bg-card rounded-xl border border-border border-dashed",children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"No posts found"}),(0,t.jsx)(d.default,{href:"/admin/blog/new",children:(0,t.jsx)(u.Button,{children:"Create your first post"})})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map((e,s)=>(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},className:"bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-all",children:[e.featured_image&&(0,t.jsxs)("div",{className:"aspect-video bg-secondary relative overflow-hidden",children:[(0,t.jsx)("img",{src:e.featured_image,alt:e.title,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute top-2 right-2",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"published"===e.status?"bg-green-500/10 text-green-500":"scheduled"===e.status?"bg-blue-500/10 text-blue-500":"bg-secondary text-muted-foreground"}`,children:e.status})})]}),(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[e.category&&(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs bg-accent/10 text-accent",children:e.category.name}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()})]}),(0,t.jsx)("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:e.excerpt||"No excerpt"}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:"draft"===e.status&&(0,t.jsxs)(u.Button,{variant:"ghost",size:"sm",onClick:()=>S(e),className:"text-green-500 hover:text-green-600",children:[(0,t.jsx)(c.Eye,{className:"w-4 h-4 mr-1"})," Publish"]})}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(d.default,{href:`/admin/blog/${e.id}`,children:(0,t.jsx)(u.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,t.jsx)(i.Edit,{className:"w-4 h-4"})})}),(0,t.jsx)(u.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500",onClick:()=>_(e.id),children:(0,t.jsx)(o.Trash2,{className:"w-4 h-4"})})]})]})]})]},e.id))})]})}e.s(["default",()=>x])}]);