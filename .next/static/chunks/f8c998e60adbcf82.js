(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93479,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let l=s.forwardRef(({className:e,type:s,...l},r)=>(0,t.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...l}));l.displayName="Input",e.s(["Input",()=>l])},48256,e=>{"use strict";let t=(0,e.i(75254).default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],48256)},88511,e=>{"use strict";let t=(0,e.i(75254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},23585,e=>{"use strict";let t=(0,e.i(75254).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>t],23585)},83864,e=>{"use strict";var t=e.i(11795);e.s(["clientsAPI",0,{async getAll(e){let s=t.supabase.from("clients").select("*, user:profiles(full_name, email, avatar_url)").order("created_at",{ascending:!1});e?.status&&(s=s.eq("status",e.status));let{data:a,error:l}=await s;if(l)throw l;return a},async getById(e){let{data:s,error:a}=await t.supabase.from("clients").select("*, user:profiles(full_name, email, avatar_url), projects(*)").eq("id",e).single();if(a)throw a;return s},async create(e){let{data:s,error:a}=await t.supabase.from("clients").insert(e).select().single();if(a)throw a;return s},async update(e,s){let{data:a,error:l}=await t.supabase.from("clients").update(s).eq("id",e).select().single();if(l)throw l;return a},async delete(e){let{error:s}=await t.supabase.from("clients").delete().eq("id",e);if(s)throw s},async getProjects(e){let{data:s,error:a}=await t.supabase.from("projects").select("*, client:clients(company_name)").eq("client_id",e).order("created_at",{ascending:!1});if(a)throw a;return s}}])},42846,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),l=e.i(7233),r=e.i(55436),i=e.i(23585),c=e.i(88511),n=e.i(27612),d=e.i(48256),o=e.i(22016),u=e.i(83864),h=e.i(19455),m=e.i(93479),f=e.i(46696),x=e.i(55146);function p(){let[e,p]=(0,s.useState)([]),[y,g]=(0,s.useState)(!0),[b,j]=(0,s.useState)("");(0,s.useEffect)(()=>{w()},[]);let w=async()=>{try{let e=await u.clientsAPI.getAll();p(e||[])}catch(e){f.toast.error("Failed to load clients")}finally{g(!1)}},v=async t=>{if(confirm("Delete this client?"))try{await u.clientsAPI.delete(t),p(e.filter(e=>e.id!==t)),f.toast.success("Client deleted")}catch(e){f.toast.error("Failed to delete")}},N=e.filter(e=>e.name?.toLowerCase().includes(b.toLowerCase())||e.company?.toLowerCase().includes(b.toLowerCase()));return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Clients"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your client relationships."})]}),(0,t.jsx)(o.default,{href:"/admin/clients/new",children:(0,t.jsxs)(h.Button,{className:"bg-accent hover:bg-accent/90",children:[(0,t.jsx)(l.Plus,{className:"w-4 h-4 mr-2"})," Add Client"]})})]}),(0,t.jsx)("div",{className:"flex items-center gap-4 bg-card p-4 rounded-xl border border-border",children:(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,t.jsx)(r.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(m.Input,{placeholder:"Search clients...",value:b,onChange:e=>j(e.target.value),className:"pl-9"})]})}),y?(0,t.jsx)("div",{className:"text-center py-20",children:"Loading clients..."}):0===N.length?(0,t.jsx)("div",{className:"text-center py-20 bg-card rounded-xl border border-border border-dashed",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No clients found"})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((e,s)=>(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"bg-card border border-border rounded-xl p-6 hover:shadow-lg transition-all",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-secondary flex items-center justify-center overflow-hidden",children:e.logo_url?(0,t.jsx)("img",{src:e.logo_url,alt:e.company,className:"w-full h-full object-cover"}):(0,t.jsx)("span",{className:"font-bold text-lg",children:e.company?.charAt(0)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold",children:e.company}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.name})]})]}),(0,t.jsxs)(x.DropdownMenu,{children:[(0,t.jsx)(x.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(h.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,t.jsx)(i.MoreVertical,{className:"w-4 h-4"})})}),(0,t.jsxs)(x.DropdownMenuContent,{align:"end",children:[(0,t.jsx)(o.default,{href:`/admin/clients/${e.id}`,children:(0,t.jsxs)(x.DropdownMenuItem,{children:[(0,t.jsx)(c.Edit,{className:"w-4 h-4 mr-2"})," Edit"]})}),(0,t.jsxs)(x.DropdownMenuItem,{className:"text-red-500",onClick:()=>v(e.id),children:[(0,t.jsx)(n.Trash2,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})]}),(0,t.jsx)("div",{className:"space-y-2 text-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(d.Globe,{className:"w-4 h-4"}),(0,t.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"hover:text-accent",children:e.website||"No website"})]})})]},e.id))})]})}e.s(["default",()=>p])}]);