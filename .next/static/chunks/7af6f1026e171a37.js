(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37727,e=>{"use strict";let t=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},58472,e=>{"use strict";let t=(0,e.i(75254).default)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);e.s(["Code",()=>t],58472)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},33912,e=>{"use strict";var t=e.i(43476),s=e.i(22016),a=e.i(18566),l=e.i(63059),r=e.i(94351),i=e.i(71689),n=e.i(19455);function c({title:e,description:c,children:d,backLink:o,backText:u="Back"}){let m,h,p,x=(m=(0,a.usePathname)().split("/").filter(Boolean),h=[{name:"Home",href:"/"}],p="",m.forEach((e,t)=>{p+=`/${e}`;let s=e.charAt(0).toUpperCase()+e.slice(1).replace(/-/g," ");h.push({name:s,href:p})}),h);return(0,t.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:x.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[0===a&&(0,t.jsx)(r.Home,{className:"w-4 h-4"}),(0,t.jsx)(s.default,{href:e.href,className:`hover:text-foreground transition-colors ${a===x.length-1?"text-foreground font-medium":""}`,children:e.name}),a<x.length-1&&(0,t.jsx)(l.ChevronRight,{className:"w-4 h-4"})]},e.href))}),o&&(0,t.jsx)("div",{children:(0,t.jsx)(s.default,{href:o,children:(0,t.jsxs)(n.Button,{variant:"ghost",size:"sm",className:"pl-0 hover:pl-0 hover:bg-transparent text-muted-foreground hover:text-foreground",children:[(0,t.jsx)(i.ArrowLeft,{className:"w-4 h-4 mr-2"}),u]})})}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[e&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:e}),c&&(0,t.jsx)("p",{className:"text-muted-foreground",children:c})]}),d&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:d})]})]})}e.s(["default",()=>c])},15288,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let l=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("div",{ref:l,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));l.displayName="Card";let r=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("div",{ref:l,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));r.displayName="CardHeader";let i=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("h3",{ref:l,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));i.displayName="CardTitle";let n=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("p",{ref:l,className:(0,a.cn)("text-sm text-muted-foreground",e),...s}));n.displayName="CardDescription";let c=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("div",{ref:l,className:(0,a.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("div",{ref:l,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>l,"CardContent",()=>c,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>i])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},99682,e=>{"use strict";var t=e.i(71645);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},70152,e=>{"use strict";function t(e,[t,s]){return Math.min(s,Math.max(t,e))}e.s(["clamp",()=>t])},56909,e=>{"use strict";let t=(0,e.i(75254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},24687,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let l=s.forwardRef(({className:e,...s},l)=>(0,t.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...s}));l.displayName="Textarea",e.s(["Textarea",()=>l])},83864,e=>{"use strict";var t=e.i(11795);e.s(["clientsAPI",0,{async getAll(e){let s=t.supabase.from("clients").select("*, user:profiles(full_name, email, avatar_url)").order("created_at",{ascending:!1});e?.status&&(s=s.eq("status",e.status));let{data:a,error:l}=await s;if(l)throw l;return a},async getById(e){let{data:s,error:a}=await t.supabase.from("clients").select("*, user:profiles(full_name, email, avatar_url), projects(*)").eq("id",e).single();if(a)throw a;return s},async create(e){let{data:s,error:a}=await t.supabase.from("clients").insert(e).select().single();if(a)throw a;return s},async update(e,s){let{data:a,error:l}=await t.supabase.from("clients").update(s).eq("id",e).select().single();if(l)throw l;return a},async delete(e){let{error:s}=await t.supabase.from("clients").delete().eq("id",e);if(s)throw s},async getProjects(e){let{data:s,error:a}=await t.supabase.from("projects").select("*, client:clients(company_name)").eq("client_id",e).order("created_at",{ascending:!1});if(a)throw a;return s}}])},65960,e=>{"use strict";let t=(0,e.i(75254).default)("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);e.s(["Quote",()=>t],65960)},48193,e=>{"use strict";var t=e.i(11795);e.s(["projectsAPI",0,{getAll:async()=>{let{data:e,error:s}=await t.supabase.from("projects").select("*");if(s)throw s;return e},getById:async e=>{let{data:s,error:a}=await t.supabase.from("projects").select("*").eq("id",e).single();if(a)throw a;return s},create:async e=>{let{data:s,error:a}=await t.supabase.from("projects").insert(e).single();if(a)throw a;return s},update:async(e,s)=>{let{data:a,error:l}=await t.supabase.from("projects").update(s).eq("id",e).single();if(l)throw l;return a},delete:async e=>{let{error:s}=await t.supabase.from("projects").delete().eq("id",e);if(s)throw s}}])},21345,e=>{"use strict";let t=(0,e.i(75254).default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["Link",()=>t],21345)},70956,e=>{"use strict";let t=(0,e.i(75254).default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);e.s(["List",()=>t],70956)},75578,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),l=e.i(19455),r=e.i(93479),i=e.i(75254);let n=(0,i.default)("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),c=(0,i.default)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);var d=e.i(70956);let o=(0,i.default)("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);var u=e.i(21345),m=e.i(73708),h=e.i(65960),p=e.i(58472),x=e.i(24687),g=e.i(75157);function f({className:e,value:a,onChange:r,...i}){let f=s.useRef(null),j=(e,t="")=>{let s=f.current;if(!s)return;let a=s.selectionStart,l=s.selectionEnd,i=s.value,n=i.substring(0,a),c=i.substring(a,l),d=i.substring(l);r({target:{value:`${n}${e}${c}${t}${d}`}}),setTimeout(()=>{s.focus(),s.setSelectionRange(a+e.length,l+e.length)},0)};return(0,t.jsxs)("div",{className:(0,g.cn)("border border-input rounded-md focus-within:ring-2 focus-within:ring-ring",e),children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 p-1 border-b bg-muted/50",children:[(0,t.jsx)(l.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>j("**","**"),children:(0,t.jsx)(n,{className:"h-4 w-4"})}),(0,t.jsx)(l.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>j("*","*"),children:(0,t.jsx)(c,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"w-px h-4 bg-border mx-1"}),(0,t.jsx)(l.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>j("- "),children:(0,t.jsx)(d.List,{className:"h-4 w-4"})}),(0,t.jsx)(l.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>j("1. "),children:(0,t.jsx)(o,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"w-px h-4 bg-border mx-1"}),(0,t.jsx)(l.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>j("> "),children:(0,t.jsx)(h.Quote,{className:"h-4 w-4"})}),(0,t.jsx)(l.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>j("`","`"),children:(0,t.jsx)(p.Code,{className:"h-4 w-4"})}),(0,t.jsx)("div",{className:"w-px h-4 bg-border mx-1"}),(0,t.jsx)(l.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>j("[","](url)"),children:(0,t.jsx)(u.Link,{className:"h-4 w-4"})}),(0,t.jsx)(l.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>j("![alt](",")"),children:(0,t.jsx)(m.Image,{className:"h-4 w-4"})})]}),(0,t.jsx)(x.Textarea,{ref:f,value:a,onChange:r,className:"border-0 focus-visible:ring-0 rounded-t-none resize-y min-h-[200px]",...i})]})}var j=e.i(67489),v=e.i(46696),y=e.i(48193),b=e.i(83864),N=e.i(31278),w=e.i(56909),C=e.i(37727),k=e.i(22016),S=e.i(33912),I=e.i(15288),M=e.i(87486);function B({initialData:e,isEditing:i=!1}){let n=(0,a.useRouter)(),[c,d]=(0,s.useState)(!1),[o,u]=(0,s.useState)([]),[h,p]=(0,s.useState)({title:"",description:"",client_id:"",status:"planning",image_url:"",budget:"",timeline:"",tags:""});(0,s.useEffect)(()=>{x(),e&&p({title:e.title||"",description:e.description||"",client_id:e.client_id||"",status:e.status||"planning",image_url:e.image_url||"",budget:e.budget||"",timeline:e.timeline||"",tags:e.tags?e.tags.join(", "):""})},[e]);let x=async()=>{try{let e=await b.clientsAPI.getAll();u(e||[])}catch(e){u([])}},g=async t=>{t.preventDefault(),d(!0);try{let t={...h,tags:h.tags.split(",").map(e=>e.trim()).filter(Boolean),budget:h.budget?parseFloat(h.budget.toString()):null};i&&e?.id?(await y.projectsAPI.update(e.id,t),v.toast.success("Project updated successfully")):(await y.projectsAPI.create(t),v.toast.success("Project created successfully")),n.push("/admin/projects"),n.refresh()}catch(e){v.toast.error("Failed to save project"),console.error(e)}finally{d(!1)}};return(0,t.jsxs)("form",{onSubmit:g,className:"space-y-8",children:[(0,t.jsx)(S.default,{title:i?"Edit Project":"New Project",description:i?"Update project details":"Create a new project portfolio item",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(k.default,{href:"/admin/projects",children:(0,t.jsx)(l.Button,{variant:"outline",type:"button",children:"Cancel"})}),(0,t.jsx)(l.Button,{type:"submit",disabled:c,className:"bg-accent hover:bg-accent/90",children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Loader2,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Save,{className:"w-4 h-4 mr-2"})," Save Project"]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(I.Card,{children:[(0,t.jsx)(I.CardHeader,{children:(0,t.jsx)(I.CardTitle,{children:"Project Details"})}),(0,t.jsxs)(I.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Project Title"}),(0,t.jsx)(r.Input,{required:!0,placeholder:"e.g. E-commerce Redesign",value:h.title,onChange:e=>p({...h,title:e.target.value}),className:"text-lg font-medium"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,t.jsx)(f,{placeholder:"Describe the project... (Markdown supported)",value:h.description,onChange:e=>p({...h,description:e.target.value}),className:"min-h-[300px]"})]})]})]}),(0,t.jsxs)(I.Card,{children:[(0,t.jsx)(I.CardHeader,{children:(0,t.jsx)(I.CardTitle,{children:"Additional Info"})}),(0,t.jsxs)(I.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Budget ($)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),(0,t.jsx)(r.Input,{type:"number",placeholder:"5000",value:h.budget,onChange:e=>p({...h,budget:e.target.value}),className:"pl-7"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Timeline"}),(0,t.jsx)(r.Input,{placeholder:"e.g. 3 months",value:h.timeline,onChange:e=>p({...h,timeline:e.target.value})})]}),(0,t.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Tags"}),(0,t.jsx)(r.Input,{placeholder:"e.g. React, Next.js, UI/UX",value:h.tags,onChange:e=>p({...h,tags:e.target.value})}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:h.tags.split(",").map(e=>e.trim()).filter(Boolean).map((e,s)=>(0,t.jsx)(M.Badge,{variant:"secondary",children:e},s))})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(I.Card,{children:[(0,t.jsx)(I.CardHeader,{children:(0,t.jsx)(I.CardTitle,{children:"Status & Client"})}),(0,t.jsxs)(I.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Status"}),(0,t.jsxs)(j.Select,{value:h.status,onValueChange:e=>p({...h,status:e}),children:[(0,t.jsx)(j.SelectTrigger,{children:(0,t.jsx)(j.SelectValue,{placeholder:"Select status"})}),(0,t.jsxs)(j.SelectContent,{children:[(0,t.jsx)(j.SelectItem,{value:"planning",children:"Planning"}),(0,t.jsx)(j.SelectItem,{value:"in_progress",children:"In Progress"}),(0,t.jsx)(j.SelectItem,{value:"review",children:"Review"}),(0,t.jsx)(j.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(j.SelectItem,{value:"on_hold",children:"On Hold"}),(0,t.jsx)(j.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Client"}),(0,t.jsxs)(j.Select,{value:h.client_id,onValueChange:e=>p({...h,client_id:e}),children:[(0,t.jsx)(j.SelectTrigger,{children:(0,t.jsx)(j.SelectValue,{placeholder:"Select client"})}),(0,t.jsx)(j.SelectContent,{children:o.map(e=>(0,t.jsx)(j.SelectItem,{value:e.id,children:e.name},e.id))})]})]})]})]}),(0,t.jsxs)(I.Card,{children:[(0,t.jsx)(I.CardHeader,{children:(0,t.jsx)(I.CardTitle,{children:"Featured Image"})}),(0,t.jsxs)(I.CardContent,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"border-2 border-dashed border-border rounded-xl p-6 text-center hover:bg-accent/5 transition-colors cursor-pointer",children:h.image_url?(0,t.jsxs)("div",{className:"relative aspect-video rounded-lg overflow-hidden group",children:[(0,t.jsx)("img",{src:h.image_url,alt:"Preview",className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,t.jsx)(l.Button,{variant:"destructive",size:"icon",onClick:()=>p({...h,image_url:""}),children:(0,t.jsx)(C.X,{className:"w-4 h-4"})})})]}):(0,t.jsxs)("div",{className:"py-4",children:[(0,t.jsx)(m.Image,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Click to upload or drag and drop"})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Image URL"}),(0,t.jsx)(r.Input,{placeholder:"https://...",value:h.image_url,onChange:e=>p({...h,image_url:e.target.value})})]})]})]})]})]})]})}e.s(["default",()=>B],75578)},46257,e=>{"use strict";var t=e.i(43476),s=e.i(75578);function a(){return(0,t.jsx)(s.default,{})}e.s(["default",()=>a])}]);