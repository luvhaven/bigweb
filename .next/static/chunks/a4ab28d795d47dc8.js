(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93479,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(75157);let r=s.forwardRef(({className:e,type:s,...r},i)=>(0,t.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));r.displayName="Input",e.s(["Input",()=>r])},48256,e=>{"use strict";let t=(0,e.i(75254).default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],48256)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],27612)},23585,e=>{"use strict";let t=(0,e.i(75254).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>t],23585)},88511,e=>{"use strict";let t=(0,e.i(75254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],88511)},42025,e=>{"use strict";var t=e.i(11795);e.s(["pagesAPI",0,{async getAll(e){let s=t.supabase.from("pages").select("*, author:profiles(full_name, avatar_url)").order("created_at",{ascending:!1});e?.status&&(s=s.eq("status",e.status)),e?.author_id&&(s=s.eq("author_id",e.author_id));let{data:a,error:r}=await s;if(r)throw r;return a},async getById(e){let{data:s,error:a}=await t.supabase.from("pages").select("*, author:profiles(full_name, avatar_url)").eq("id",e).single();if(a)throw a;return s},async getBySlug(e){let{data:s,error:a}=await t.supabase.from("pages").select("*").eq("slug",e).single();if(a)throw a;return s},async create(e){let{data:s,error:a}=await t.supabase.from("pages").insert(e).select().single();if(a)throw a;return s},async update(e,s){let{data:a,error:r}=await t.supabase.from("pages").update(s).eq("id",e).select().single();if(r)throw r;return a},async delete(e){let{error:s}=await t.supabase.from("pages").delete().eq("id",e);if(s)throw s},async publish(e){let{data:s,error:a}=await t.supabase.from("pages").update({status:"published",published_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw a;return s},async incrementViews(e){let{error:s}=await t.supabase.rpc("increment_page_views",{page_id:e});if(s)throw s},async createVersion(e,s,a){let{data:r}=await t.supabase.from("page_versions").select("version_number").eq("page_id",e).order("version_number",{ascending:!1}).limit(1),i=r&&r.length>0?r[0].version_number+1:1,{data:l,error:d}=await t.supabase.from("page_versions").insert({page_id:e,content:s,version_number:i,created_by:a}).select().single();if(d)throw d;return l},async getVersions(e){let{data:s,error:a}=await t.supabase.from("page_versions").select("*, created_by:profiles(full_name)").eq("page_id",e).order("version_number",{ascending:!1});if(a)throw a;return s}}])},39380,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(46932),r=e.i(7233),i=e.i(55436),l=e.i(23585),d=e.i(88511),n=e.i(27612),o=e.i(78583),c=e.i(48256),u=e.i(22016),m=e.i(42025),h=e.i(19455),x=e.i(93479),p=e.i(46696),f=e.i(55146);function g(){let[e,g]=(0,s.useState)([]),[b,y]=(0,s.useState)(!0),[w,j]=(0,s.useState)("");(0,s.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await m.pagesAPI.getAll();g(e||[])}catch(e){p.toast.error("Failed to load pages")}finally{y(!1)}},N=async t=>{if(confirm("Delete this page?"))try{await m.pagesAPI.delete(t),g(e.filter(e=>e.id!==t)),p.toast.success("Page deleted")}catch(e){p.toast.error("Failed to delete")}},_=e.filter(e=>e.title?.toLowerCase().includes(w.toLowerCase())||e.slug?.toLowerCase().includes(w.toLowerCase()));return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Pages"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your website content."})]}),(0,t.jsx)(u.default,{href:"/admin/pages/new",children:(0,t.jsxs)(h.Button,{className:"bg-accent hover:bg-accent/90",children:[(0,t.jsx)(r.Plus,{className:"w-4 h-4 mr-2"})," New Page"]})})]}),(0,t.jsx)("div",{className:"flex items-center gap-4 bg-card p-4 rounded-xl border border-border",children:(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,t.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(x.Input,{placeholder:"Search pages...",value:w,onChange:e=>j(e.target.value),className:"pl-9"})]})}),b?(0,t.jsx)("div",{className:"text-center py-20",children:"Loading pages..."}):0===_.length?(0,t.jsx)("div",{className:"text-center py-20 bg-card rounded-xl border border-border border-dashed",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No pages found"})}):(0,t.jsx)("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-secondary/50 border-b border-border",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left p-4 font-medium text-sm text-muted-foreground",children:"Title"}),(0,t.jsx)("th",{className:"text-left p-4 font-medium text-sm text-muted-foreground",children:"Slug"}),(0,t.jsx)("th",{className:"text-left p-4 font-medium text-sm text-muted-foreground",children:"Status"}),(0,t.jsx)("th",{className:"text-left p-4 font-medium text-sm text-muted-foreground",children:"Last Updated"}),(0,t.jsx)("th",{className:"text-right p-4 font-medium text-sm text-muted-foreground",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:_.map((e,s)=>(0,t.jsxs)(a.motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*s},className:"border-b border-border last:border-0 hover:bg-secondary/20 transition-colors",children:[(0,t.jsxs)("td",{className:"p-4 font-medium flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded bg-accent/10 flex items-center justify-center text-accent",children:(0,t.jsx)(o.FileText,{className:"w-4 h-4"})}),e.title]}),(0,t.jsxs)("td",{className:"p-4 text-sm text-muted-foreground",children:["/",e.slug]}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"published"===e.status?"bg-green-500/10 text-green-500":"bg-secondary text-muted-foreground"}`,children:e.status})}),(0,t.jsx)("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(e.updated_at||e.created_at).toLocaleDateString()}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsxs)(f.DropdownMenu,{children:[(0,t.jsx)(f.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(h.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,t.jsx)(l.MoreVertical,{className:"w-4 h-4"})})}),(0,t.jsxs)(f.DropdownMenuContent,{align:"end",children:[(0,t.jsx)(u.default,{href:`/admin/pages/${e.id}`,children:(0,t.jsxs)(f.DropdownMenuItem,{children:[(0,t.jsx)(d.Edit,{className:"w-4 h-4 mr-2"})," Edit"]})}),(0,t.jsx)("a",{href:`/${e.slug}`,target:"_blank",rel:"noreferrer",children:(0,t.jsxs)(f.DropdownMenuItem,{children:[(0,t.jsx)(c.Globe,{className:"w-4 h-4 mr-2"})," View Live"]})}),(0,t.jsxs)(f.DropdownMenuItem,{className:"text-red-500",onClick:()=>N(e.id),children:[(0,t.jsx)(n.Trash2,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})})]},e.id))})]})})]})}e.s(["default",()=>g])}]);