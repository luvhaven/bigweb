module.exports=[66718,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},54074,a=>{"use strict";let b=(0,a.i(70106).default)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);a.s(["Code",()=>b],54074)},45972,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(50944),e=a.i(50522),f=a.i(81010),g=a.i(210),h=a.i(99570);function i({title:a,description:i,children:j,backLink:k,backText:l="Back"}){let m,n,o,p=(m=(0,d.usePathname)().split("/").filter(Boolean),n=[{name:"Home",href:"/"}],o="",m.forEach((a,b)=>{o+=`/${a}`;let c=a.charAt(0).toUpperCase()+a.slice(1).replace(/-/g," ");n.push({name:c,href:o})}),n);return(0,b.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,b.jsx)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:p.map((a,d)=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[0===d&&(0,b.jsx)(f.Home,{className:"w-4 h-4"}),(0,b.jsx)(c.default,{href:a.href,className:`hover:text-foreground transition-colors ${d===p.length-1?"text-foreground font-medium":""}`,children:a.name}),d<p.length-1&&(0,b.jsx)(e.ChevronRight,{className:"w-4 h-4"})]},a.href))}),k&&(0,b.jsx)("div",{children:(0,b.jsx)(c.default,{href:k,children:(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"pl-0 hover:pl-0 hover:bg-transparent text-muted-foreground hover:text-foreground",children:[(0,b.jsx)(g.ArrowLeft,{className:"w-4 h-4 mr-2"}),l]})})}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:[a&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:a}),i&&(0,b.jsx)("p",{className:"text-muted-foreground",children:i})]}),j&&(0,b.jsx)("div",{className:"flex items-center gap-2",children:j})]})]})}a.s(["default",()=>i])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},30656,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},55442,a=>{"use strict";let b=(0,a.i(70106).default)("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);a.s(["Quote",()=>b],55442)},86787,a=>{"use strict";var b=a.i(95445);a.s(["clientsAPI",0,{async getAll(a){let c=b.supabase.from("clients").select("*, user:profiles(full_name, email, avatar_url)").order("created_at",{ascending:!1});a?.status&&(c=c.eq("status",a.status));let{data:d,error:e}=await c;if(e)throw e;return d},async getById(a){let{data:c,error:d}=await b.supabase.from("clients").select("*, user:profiles(full_name, email, avatar_url), projects(*)").eq("id",a).single();if(d)throw d;return c},async create(a){let{data:c,error:d}=await b.supabase.from("clients").insert(a).select().single();if(d)throw d;return c},async update(a,c){let{data:d,error:e}=await b.supabase.from("clients").update(c).eq("id",a).select().single();if(e)throw e;return d},async delete(a){let{error:c}=await b.supabase.from("clients").delete().eq("id",a);if(c)throw c},async getProjects(a){let{data:c,error:d}=await b.supabase.from("projects").select("*, client:clients(company_name)").eq("client_id",a).order("created_at",{ascending:!1});if(d)throw d;return c}}])},42615,a=>{"use strict";var b=a.i(95445);a.s(["projectsAPI",0,{getAll:async()=>{let{data:a,error:c}=await b.supabase.from("projects").select("*");if(c)throw c;return a},getById:async a=>{let{data:c,error:d}=await b.supabase.from("projects").select("*").eq("id",a).single();if(d)throw d;return c},create:async a=>{let{data:c,error:d}=await b.supabase.from("projects").insert(a).single();if(d)throw d;return c},update:async(a,c)=>{let{data:d,error:e}=await b.supabase.from("projects").update(c).eq("id",a).single();if(e)throw e;return d},delete:async a=>{let{error:c}=await b.supabase.from("projects").delete().eq("id",a);if(c)throw c}}])},67329,a=>{"use strict";let b=(0,a.i(70106).default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);a.s(["List",()=>b],67329)},79257,a=>{"use strict";let b=(0,a.i(70106).default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);a.s(["Link",()=>b],79257)},12147,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(99570),f=a.i(66718),g=a.i(70106);let h=(0,g.default)("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),i=(0,g.default)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);var j=a.i(67329);let k=(0,g.default)("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);var l=a.i(79257),m=a.i(38632),n=a.i(55442),o=a.i(54074),p=a.i(29246),q=a.i(68114);function r({className:a,value:d,onChange:f,...g}){let r=c.useRef(null),s=(a,b="")=>{let c=r.current;if(!c)return;let d=c.selectionStart,e=c.selectionEnd,g=c.value,h=g.substring(0,d),i=g.substring(d,e),j=g.substring(e);f({target:{value:`${h}${a}${i}${b}${j}`}}),setTimeout(()=>{c.focus(),c.setSelectionRange(d+a.length,e+a.length)},0)};return(0,b.jsxs)("div",{className:(0,q.cn)("border border-input rounded-md focus-within:ring-2 focus-within:ring-ring",a),children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 p-1 border-b bg-muted/50",children:[(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s("**","**"),children:(0,b.jsx)(h,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s("*","*"),children:(0,b.jsx)(i,{className:"h-4 w-4"})}),(0,b.jsx)("div",{className:"w-px h-4 bg-border mx-1"}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s("- "),children:(0,b.jsx)(j.List,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s("1. "),children:(0,b.jsx)(k,{className:"h-4 w-4"})}),(0,b.jsx)("div",{className:"w-px h-4 bg-border mx-1"}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s("> "),children:(0,b.jsx)(n.Quote,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s("`","`"),children:(0,b.jsx)(o.Code,{className:"h-4 w-4"})}),(0,b.jsx)("div",{className:"w-px h-4 bg-border mx-1"}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s("[","](url)"),children:(0,b.jsx)(l.Link,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s("![alt](",")"),children:(0,b.jsx)(m.Image,{className:"h-4 w-4"})})]}),(0,b.jsx)(p.Textarea,{ref:r,value:d,onChange:f,className:"border-0 focus-visible:ring-0 rounded-t-none resize-y min-h-[200px]",...g})]})}var s=a.i(80701),t=a.i(23292),u=a.i(42615),v=a.i(86787),w=a.i(96221),x=a.i(14548),y=a.i(33508),z=a.i(38246),A=a.i(45972),B=a.i(91119),C=a.i(86304);function D({initialData:a,isEditing:g=!1}){let h=(0,d.useRouter)(),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)([]),[n,o]=(0,c.useState)({title:"",description:"",client_id:"",status:"planning",image_url:"",budget:"",timeline:"",tags:""});(0,c.useEffect)(()=>{p(),a&&o({title:a.title||"",description:a.description||"",client_id:a.client_id||"",status:a.status||"planning",image_url:a.image_url||"",budget:a.budget||"",timeline:a.timeline||"",tags:a.tags?a.tags.join(", "):""})},[a]);let p=async()=>{try{let a=await v.clientsAPI.getAll();l(a||[])}catch(a){l([])}},q=async b=>{b.preventDefault(),j(!0);try{let b={...n,tags:n.tags.split(",").map(a=>a.trim()).filter(Boolean),budget:n.budget?parseFloat(n.budget.toString()):null};g&&a?.id?(await u.projectsAPI.update(a.id,b),t.toast.success("Project updated successfully")):(await u.projectsAPI.create(b),t.toast.success("Project created successfully")),h.push("/admin/projects"),h.refresh()}catch(a){t.toast.error("Failed to save project"),console.error(a)}finally{j(!1)}};return(0,b.jsxs)("form",{onSubmit:q,className:"space-y-8",children:[(0,b.jsx)(A.default,{title:g?"Edit Project":"New Project",description:g?"Update project details":"Create a new project portfolio item",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(z.default,{href:"/admin/projects",children:(0,b.jsx)(e.Button,{variant:"outline",type:"button",children:"Cancel"})}),(0,b.jsx)(e.Button,{type:"submit",disabled:i,className:"bg-accent hover:bg-accent/90",children:i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Save,{className:"w-4 h-4 mr-2"})," Save Project"]})})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)(B.Card,{children:[(0,b.jsx)(B.CardHeader,{children:(0,b.jsx)(B.CardTitle,{children:"Project Details"})}),(0,b.jsxs)(B.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Project Title"}),(0,b.jsx)(f.Input,{required:!0,placeholder:"e.g. E-commerce Redesign",value:n.title,onChange:a=>o({...n,title:a.target.value}),className:"text-lg font-medium"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,b.jsx)(r,{placeholder:"Describe the project... (Markdown supported)",value:n.description,onChange:a=>o({...n,description:a.target.value}),className:"min-h-[300px]"})]})]})]}),(0,b.jsxs)(B.Card,{children:[(0,b.jsx)(B.CardHeader,{children:(0,b.jsx)(B.CardTitle,{children:"Additional Info"})}),(0,b.jsxs)(B.CardContent,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Budget ($)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),(0,b.jsx)(f.Input,{type:"number",placeholder:"5000",value:n.budget,onChange:a=>o({...n,budget:a.target.value}),className:"pl-7"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Timeline"}),(0,b.jsx)(f.Input,{placeholder:"e.g. 3 months",value:n.timeline,onChange:a=>o({...n,timeline:a.target.value})})]}),(0,b.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Tags"}),(0,b.jsx)(f.Input,{placeholder:"e.g. React, Next.js, UI/UX",value:n.tags,onChange:a=>o({...n,tags:a.target.value})}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:n.tags.split(",").map(a=>a.trim()).filter(Boolean).map((a,c)=>(0,b.jsx)(C.Badge,{variant:"secondary",children:a},c))})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(B.Card,{children:[(0,b.jsx)(B.CardHeader,{children:(0,b.jsx)(B.CardTitle,{children:"Status & Client"})}),(0,b.jsxs)(B.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Status"}),(0,b.jsxs)(s.Select,{value:n.status,onValueChange:a=>o({...n,status:a}),children:[(0,b.jsx)(s.SelectTrigger,{children:(0,b.jsx)(s.SelectValue,{placeholder:"Select status"})}),(0,b.jsxs)(s.SelectContent,{children:[(0,b.jsx)(s.SelectItem,{value:"planning",children:"Planning"}),(0,b.jsx)(s.SelectItem,{value:"in_progress",children:"In Progress"}),(0,b.jsx)(s.SelectItem,{value:"review",children:"Review"}),(0,b.jsx)(s.SelectItem,{value:"completed",children:"Completed"}),(0,b.jsx)(s.SelectItem,{value:"on_hold",children:"On Hold"}),(0,b.jsx)(s.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Client"}),(0,b.jsxs)(s.Select,{value:n.client_id,onValueChange:a=>o({...n,client_id:a}),children:[(0,b.jsx)(s.SelectTrigger,{children:(0,b.jsx)(s.SelectValue,{placeholder:"Select client"})}),(0,b.jsx)(s.SelectContent,{children:k.map(a=>(0,b.jsx)(s.SelectItem,{value:a.id,children:a.name},a.id))})]})]})]})]}),(0,b.jsxs)(B.Card,{children:[(0,b.jsx)(B.CardHeader,{children:(0,b.jsx)(B.CardTitle,{children:"Featured Image"})}),(0,b.jsxs)(B.CardContent,{className:"space-y-4",children:[(0,b.jsx)("div",{className:"border-2 border-dashed border-border rounded-xl p-6 text-center hover:bg-accent/5 transition-colors cursor-pointer",children:n.image_url?(0,b.jsxs)("div",{className:"relative aspect-video rounded-lg overflow-hidden group",children:[(0,b.jsx)("img",{src:n.image_url,alt:"Preview",className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,b.jsx)(e.Button,{variant:"destructive",size:"icon",onClick:()=>o({...n,image_url:""}),children:(0,b.jsx)(y.X,{className:"w-4 h-4"})})})]}):(0,b.jsxs)("div",{className:"py-4",children:[(0,b.jsx)(m.Image,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Click to upload or drag and drop"})]})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Image URL"}),(0,b.jsx)(f.Input,{placeholder:"https://...",value:n.image_url,onChange:a=>o({...n,image_url:a.target.value})})]})]})]})]})]})]})}a.s(["default",()=>D],12147)},51964,a=>{"use strict";var b=a.i(87924),c=a.i(12147);function d(){return(0,b.jsx)(c.default,{})}a.s(["default",()=>d])}];

//# sourceMappingURL=_91393719._.js.map