module.exports=[66718,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},30656,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},77156,a=>{"use strict";let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},24569,a=>{"use strict";let b=(0,a.i(70106).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],24569)},26755,a=>{"use strict";var b=a.i(95445);a.s(["blogAPI",0,{async getAllCategories(){let{data:a,error:c}=await b.supabase.from("blog_categories").select("*").order("name");if(c)throw c;return a},async createCategory(a){let{data:c,error:d}=await b.supabase.from("blog_categories").insert(a).select().single();if(d)throw d;return c},async getAllPosts(a){let c=b.supabase.from("blog_posts").select("*, author:profiles(full_name, avatar_url), category:blog_categories(name, slug)").order("created_at",{ascending:!1});a?.status&&(c=c.eq("status",a.status)),a?.category_id&&(c=c.eq("category_id",a.category_id));let{data:d,error:e}=await c;if(e)throw e;return d},async getPostById(a){let{data:c,error:d}=await b.supabase.from("blog_posts").select("*, author:profiles(full_name, avatar_url), category:blog_categories(*)").eq("id",a).single();if(d)throw d;return c},async getPostBySlug(a){let{data:c,error:d}=await b.supabase.from("blog_posts").select("*, author:profiles(full_name, avatar_url), category:blog_categories(*)").eq("slug",a).single();if(d)throw d;return c},async createPost(a){let{data:c,error:d}=await b.supabase.from("blog_posts").insert(a).select().single();if(d)throw d;return c},async updatePost(a,c){let{data:d,error:e}=await b.supabase.from("blog_posts").update(c).eq("id",a).select().single();if(e)throw e;return d},async deletePost(a){let{error:c}=await b.supabase.from("blog_posts").delete().eq("id",a);if(c)throw c},async publishPost(a){let{data:c,error:d}=await b.supabase.from("blog_posts").update({status:"published",published_at:new Date().toISOString()}).eq("id",a).select().single();if(d)throw d;return c}}])},59782,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(15618),f=a.i(87532),g=a.i(24569),h=a.i(81560),i=a.i(77156),j=a.i(38246),k=a.i(26755),l=a.i(99570),m=a.i(66718),n=a.i(23292),o=a.i(80701);function p(){let[a,p]=(0,c.useState)([]),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)("");(0,c.useEffect)(()=>{y()},[w]);let y=async()=>{try{let[a,b]=await Promise.all([k.blogAPI.getAllPosts(w?{status:w}:void 0),k.blogAPI.getAllCategories()]);p(a||[]),r(b||[])}catch(a){n.toast.error("Failed to load blog data")}finally{t(!1)}},z=async b=>{if(confirm("Delete this post?"))try{await k.blogAPI.deletePost(b),p(a.filter(a=>a.id!==b)),n.toast.success("Post deleted")}catch(a){n.toast.error("Failed to delete")}},A=async a=>{try{await k.blogAPI.publishPost(a.id),y(),n.toast.success("Post published")}catch(a){n.toast.error("Failed to publish")}},B=a.filter(a=>a.title?.toLowerCase().includes(u.toLowerCase())||a.excerpt?.toLowerCase().includes(u.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Blog Posts"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Create and manage your blog content"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(j.default,{href:"/admin/blog/categories",children:(0,b.jsx)(l.Button,{variant:"outline",children:"Manage Categories"})}),(0,b.jsx)(j.default,{href:"/admin/blog/new",children:(0,b.jsxs)(l.Button,{className:"bg-accent hover:bg-accent/90",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4 mr-2"})," New Post"]})})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 bg-card p-4 rounded-xl border border-border",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(m.Input,{placeholder:"Search posts...",value:u,onChange:a=>v(a.target.value),className:"pl-9"})]}),(0,b.jsxs)(o.Select,{value:w,onValueChange:x,children:[(0,b.jsx)(o.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(o.SelectValue,{placeholder:"All statuses"})}),(0,b.jsxs)(o.SelectContent,{children:[(0,b.jsx)(o.SelectItem,{value:"",children:"All"}),(0,b.jsx)(o.SelectItem,{value:"draft",children:"Draft"}),(0,b.jsx)(o.SelectItem,{value:"published",children:"Published"}),(0,b.jsx)(o.SelectItem,{value:"scheduled",children:"Scheduled"})]})]})]}),s?(0,b.jsx)("div",{className:"text-center py-20",children:"Loading posts..."}):0===B.length?(0,b.jsxs)("div",{className:"text-center py-20 bg-card rounded-xl border border-border border-dashed",children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"No posts found"}),(0,b.jsx)(j.default,{href:"/admin/blog/new",children:(0,b.jsx)(l.Button,{children:"Create your first post"})})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map((a,c)=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*c},className:"bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-all",children:[a.featured_image&&(0,b.jsxs)("div",{className:"aspect-video bg-secondary relative overflow-hidden",children:[(0,b.jsx)("img",{src:a.featured_image,alt:a.title,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"published"===a.status?"bg-green-500/10 text-green-500":"scheduled"===a.status?"bg-blue-500/10 text-blue-500":"bg-secondary text-muted-foreground"}`,children:a.status})})]}),(0,b.jsxs)("div",{className:"p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[a.category&&(0,b.jsx)("span",{className:"px-2 py-1 rounded-full text-xs bg-accent/10 text-accent",children:a.category.name}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(a.created_at).toLocaleDateString()})]}),(0,b.jsx)("h3",{className:"font-bold text-lg mb-2 line-clamp-2",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:a.excerpt||"No excerpt"}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[(0,b.jsx)("div",{className:"flex items-center gap-2",children:"draft"===a.status&&(0,b.jsxs)(l.Button,{variant:"ghost",size:"sm",onClick:()=>A(a),className:"text-green-500 hover:text-green-600",children:[(0,b.jsx)(i.Eye,{className:"w-4 h-4 mr-1"})," Publish"]})}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)(j.default,{href:`/admin/blog/${a.id}`,children:(0,b.jsx)(l.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,b.jsx)(g.Edit,{className:"w-4 h-4"})})}),(0,b.jsx)(l.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500",onClick:()=>z(a.id),children:(0,b.jsx)(h.Trash2,{className:"w-4 h-4"})})]})]})]})]},a.id))})]})}a.s(["default",()=>p])}];

//# sourceMappingURL=_f54f0d6b._.js.map