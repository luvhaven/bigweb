module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},86787,a=>{"use strict";var b=a.i(95445);a.s(["clientsAPI",0,{async getAll(a){let c=b.supabase.from("clients").select("*, user:profiles(full_name, email, avatar_url)").order("created_at",{ascending:!1});a?.status&&(c=c.eq("status",a.status));let{data:d,error:e}=await c;if(e)throw e;return d},async getById(a){let{data:c,error:d}=await b.supabase.from("clients").select("*, user:profiles(full_name, email, avatar_url), projects(*)").eq("id",a).single();if(d)throw d;return c},async create(a){let{data:c,error:d}=await b.supabase.from("clients").insert(a).select().single();if(d)throw d;return c},async update(a,c){let{data:d,error:e}=await b.supabase.from("clients").update(c).eq("id",a).select().single();if(e)throw e;return d},async delete(a){let{error:c}=await b.supabase.from("clients").delete().eq("id",a);if(c)throw c},async getProjects(a){let{data:c,error:d}=await b.supabase.from("projects").select("*, client:clients(company_name)").eq("client_id",a).order("created_at",{ascending:!1});if(d)throw d;return c}}])},36932,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(99570),f=a.i(66718),g=a.i(23292),h=a.i(86787),i=a.i(96221),j=a.i(14548),k=a.i(210),l=a.i(38246);function m({initialData:a,isEditing:m=!1}){let n=(0,d.useRouter)(),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)({name:"",email:"",company:"",logo_url:"",website:""});(0,c.useEffect)(()=>{a&&r({name:a.name||"",email:a.email||"",company:a.company||"",logo_url:a.logo_url||"",website:a.website||""})},[a]);let s=async b=>{b.preventDefault(),p(!0);try{let b={contact_name:q.name,email:q.email,company_name:q.company,logo_url:q.logo_url,website:q.website};m&&a?.id?(await h.clientsAPI.update(a.id,b),g.toast.success("Client updated")):(await h.clientsAPI.create(b),g.toast.success("Client created")),n.push("/admin/clients"),n.refresh()}catch(a){g.toast.error("Failed to save client")}finally{p(!1)}};return(0,b.jsxs)("form",{onSubmit:s,className:"max-w-2xl space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(l.default,{href:"/admin/clients",children:(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(k.ArrowLeft,{className:"w-4 h-4"})})}),(0,b.jsx)("div",{children:(0,b.jsx)("h1",{className:"text-3xl font-bold",children:m?"Edit Client":"New Client"})})]}),(0,b.jsxs)(e.Button,{type:"submit",disabled:o,className:"bg-accent hover:bg-accent/90",children:[o?(0,b.jsx)(i.Loader2,{className:"w-4 h-4 animate-spin"}):(0,b.jsx)(j.Save,{className:"w-4 h-4 mr-2"}),"Save Client"]})]}),(0,b.jsxs)("div",{className:"bg-card border border-border rounded-xl p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Contact Name"}),(0,b.jsx)(f.Input,{required:!0,value:q.name,onChange:a=>r({...q,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Email"}),(0,b.jsx)(f.Input,{type:"email",value:q.email,onChange:a=>r({...q,email:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Company Name"}),(0,b.jsx)(f.Input,{required:!0,value:q.company,onChange:a=>r({...q,company:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Website URL"}),(0,b.jsx)(f.Input,{value:q.website,onChange:a=>r({...q,website:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Logo URL"}),(0,b.jsx)(f.Input,{value:q.logo_url,onChange:a=>r({...q,logo_url:a.target.value})})]})]})]})}a.s(["default",()=>m])},70364,a=>{"use strict";var b=a.i(87924),c=a.i(36932);function d(){return(0,b.jsx)(c.default,{})}a.s(["default",()=>d])}];

//# sourceMappingURL=_f96c8f29._.js.map