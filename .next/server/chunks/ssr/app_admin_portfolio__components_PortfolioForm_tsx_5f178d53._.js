module.exports=[90931,503,a=>{"use strict";var b=a.i(87924),c=a.i(95245),d=a.i(59501),e=a.i(99614),f=a.i(96221),g=a.i(14548),h=a.i(50944),i=a.i(99570),j=a.i(66718),k=a.i(29246),l=a.i(41921),m=a.i(80701),n=a.i(63658),o=a.i(91119);let p=e.object({title:e.string().min(2,"Title must be at least 2 characters"),slug:e.string().min(2,"Slug must be at least 2 characters").regex(/^[a-z0-9-]+$/,"Slug must only contain lowercase letters, numbers, and hyphens"),excerpt:e.string().optional(),description:e.string().optional(),client_name:e.string().optional(),industry:e.string().optional(),project_type:e.string().optional(),featured_image:e.string().url("Must be a valid URL").optional().or(e.literal("")),live_url:e.string().url("Must be a valid URL").optional().or(e.literal("")),status:e.enum(["published","draft","archived"]),is_featured:e.boolean().default(!1),order_index:e.coerce.number().default(0),technologies:e.string().optional(),challenge:e.string().optional(),solution:e.string().optional(),results:e.string().optional()});function q({initialData:a,onSubmit:e,isSubmitting:q=!1}){let r=(0,h.useRouter)(),s=(0,c.useForm)({resolver:(0,d.zodResolver)(p),defaultValues:{title:a?.title||"",slug:a?.slug||"",excerpt:a?.excerpt||"",description:a?.description||"",client_name:a?.client_name||"",industry:a?.industry||"",project_type:a?.project_type||"",featured_image:a?.featured_image||"",live_url:a?.live_url||"",status:a?.status||"draft",is_featured:a?.is_featured||!1,order_index:a?.order_index||0,technologies:a?.technologies?.join("\n")||"",challenge:a?.challenge||"",solution:a?.solution||"",results:a?.results||""}}),t=b=>{let c=b.target.value;if(s.setValue("title",c),!a){let a=c.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");s.setValue("slug",a)}};return(0,b.jsx)(l.Form,{...s,children:(0,b.jsxs)("form",{onSubmit:s.handleSubmit(a=>{e({...a,technologies:a.technologies?a.technologies.split("\n").filter(a=>""!==a.trim()):[]})}),className:"space-y-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"md:col-span-2 space-y-8",children:[(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsx)(o.CardTitle,{children:"Project Details"})}),(0,b.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,b.jsx)(l.FormField,{control:s.control,name:"title",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Project Title"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"E-commerce Platform",...a,onChange:t})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"slug",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Slug"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"e-commerce-platform",...a})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"excerpt",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Excerpt (Short Summary)"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(k.Textarea,{placeholder:"Brief overview...",className:"h-20",...a})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"description",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Full Description"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(k.Textarea,{placeholder:"Detailed case study...",className:"min-h-[200px]",...a})}),(0,b.jsx)(l.FormMessage,{})]})})]})]}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsx)(o.CardTitle,{children:"Case Study Content"})}),(0,b.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,b.jsx)(l.FormField,{control:s.control,name:"challenge",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"The Challenge"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(k.Textarea,{placeholder:"What problem did we solve?",className:"h-32",...a})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"solution",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"The Solution"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(k.Textarea,{placeholder:"How did we solve it?",className:"h-32",...a})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"results",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"The Results"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(k.Textarea,{placeholder:"What was the outcome?",className:"h-32",...a})}),(0,b.jsx)(l.FormMessage,{})]})})]})]})]}),(0,b.jsx)("div",{className:"space-y-8",children:(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsx)(o.CardTitle,{children:"Settings"})}),(0,b.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,b.jsx)(l.FormField,{control:s.control,name:"status",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Status"}),(0,b.jsxs)(m.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(m.SelectTrigger,{children:(0,b.jsx)(m.SelectValue,{placeholder:"Select status"})})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"draft",children:"Draft"}),(0,b.jsx)(m.SelectItem,{value:"published",children:"Published"}),(0,b.jsx)(m.SelectItem,{value:"archived",children:"Archived"})]})]}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"client_name",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Client Name"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"Client Co.",...a})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"industry",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Industry"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"Fintech, Health...",...a})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"project_type",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Project Type"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"Web App, Mobile...",...a})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"featured_image",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Featured Image URL"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"https://...",...a})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"live_url",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Live URL"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(j.Input,{placeholder:"https://...",...a})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"technologies",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Technologies (One per line)"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(k.Textarea,{placeholder:"React Node.js",className:"h-32",...a})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"order_index",render:({field:a})=>(0,b.jsxs)(l.FormItem,{children:[(0,b.jsx)(l.FormLabel,{children:"Order Index"}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(j.Input,{type:"number",...a,onChange:b=>a.onChange(parseInt(b.target.value))})}),(0,b.jsx)(l.FormMessage,{})]})}),(0,b.jsx)(l.FormField,{control:s.control,name:"is_featured",render:({field:a})=>(0,b.jsxs)(l.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(l.FormLabel,{className:"text-base",children:"Featured"}),(0,b.jsx)(l.FormDescription,{children:"Show on home page"})]}),(0,b.jsx)(l.FormControl,{children:(0,b.jsx)(n.Switch,{checked:a.value,onCheckedChange:a.onChange})})]})})]})]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(i.Button,{type:"submit",disabled:q,children:[q&&(0,b.jsx)(f.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),(0,b.jsx)(g.Save,{className:"mr-2 h-4 w-4"}),"Save Project"]}),(0,b.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>r.back(),children:"Cancel"})]})]})})}a.s(["default",()=>q],90931);var r=a.i(95445);a.s(["portfolioAPI",0,{async getAll(a){let b=r.supabase.from("portfolio_items").select("*").order("order_index",{ascending:!0});a&&(b=b.eq("status",a));let{data:c,error:d}=await b;if(d)throw console.error("ðŸ”¥ Supabase API Error (getAll):",d),console.error("Query:",{table:"portfolio_items",status:a}),d;return c},async getPublished(){let{data:a,error:b}=await r.supabase.from("portfolio_items").select("*").eq("status","published").order("published_at",{ascending:!1});if(b)throw b;return a},async getFeatured(a){let b=r.supabase.from("portfolio_items").select("*").eq("status","published").eq("is_featured",!0).order("order_index",{ascending:!0});a&&(b=b.limit(a));let{data:c,error:d}=await b;if(d)throw d;return c},async getBySlug(a){let{data:b,error:c}=await r.supabase.from("portfolio_items").select("*").eq("slug",a).eq("status","published").single();if(c)throw c;return b},async getById(a){let{data:b,error:c}=await r.supabase.from("portfolio_items").select("*").eq("id",a).single();if(c)throw c;return b},async getByIndustry(a){let{data:b,error:c}=await r.supabase.from("portfolio_items").select("*").eq("status","published").eq("industry",a).order("published_at",{ascending:!1});if(c)throw c;return b},async create(a){let{data:b,error:c}=await r.supabase.from("portfolio_items").insert(a).select().single();if(c)throw c;return b},async update(a,b){let{data:c,error:d}=await r.supabase.from("portfolio_items").update(b).eq("id",a).select().single();if(d)throw d;return c},async publish(a){return this.update(a,{status:"published",published_at:new Date().toISOString()})},async delete(a){let{error:b}=await r.supabase.from("portfolio_items").delete().eq("id",a);if(b)throw b}}],503)}];

//# sourceMappingURL=app_admin_portfolio__components_PortfolioForm_tsx_5f178d53._.js.map