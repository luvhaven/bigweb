module.exports=[78170,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(46271),g=a.i(62036),h=a.i(70106);let i=(0,h.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var j=a.i(4720),k=a.i(63416),l=a.i(63588),m=a.i(60246),n=a.i(39761),o=a.i(21161);let p=(0,h.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var q=a.i(5784),r=a.i(72692),s=a.i(33508),t=a.i(23312),u=a.i(87532),v=a.i(8406),w=a.i(38632),x=a.i(21374),y=a.i(92258);let z=(0,h.default)("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);var A=a.i(41961),B=a.i(99570),C=a.i(72233),D=a.i(35732),E=a.i(15219),F=a.i(42871),G=a.i(76644),H=a.i(18544),I=a.i(33791),J=class extends I.Subscribable{constructor(a={}){super(),this.config=a,this.#a=new Map}#a;build(a,b,c){let d=b.queryKey,e=b.queryHash??(0,F.hashQueryKeyByOptions)(d,b),f=this.get(e);return f||(f=new G.Query({client:a,queryKey:d,queryHash:e,options:a.defaultQueryOptions(b),state:c,defaultOptions:a.getQueryDefaults(d)}),this.add(f)),f}add(a){this.#a.has(a.queryHash)||(this.#a.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){let b=this.#a.get(a.queryHash);b&&(a.destroy(),b===a&&this.#a.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){H.notifyManager.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#a.get(a)}getAll(){return[...this.#a.values()]}find(a){let b={exact:!0,...a};return this.getAll().find(a=>(0,F.matchQuery)(b,a))}findAll(a={}){let b=this.getAll();return Object.keys(a).length>0?b.filter(b=>(0,F.matchQuery)(a,b)):b}notify(a){H.notifyManager.batch(()=>{this.listeners.forEach(b=>{b(a)})})}onFocus(){H.notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){H.notifyManager.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},K=a.i(12794),L=I,M=class extends L.Subscribable{constructor(a={}){super(),this.config=a,this.#b=new Set,this.#c=new Map,this.#d=0}#b;#c;#d;build(a,b,c){let d=new K.Mutation({client:a,mutationCache:this,mutationId:++this.#d,options:a.defaultMutationOptions(b),state:c});return this.add(d),d}add(a){this.#b.add(a);let b=N(a);if("string"==typeof b){let c=this.#c.get(b);c?c.push(a):this.#c.set(b,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#b.delete(a)){let b=N(a);if("string"==typeof b){let c=this.#c.get(b);if(c)if(c.length>1){let b=c.indexOf(a);-1!==b&&c.splice(b,1)}else c[0]===a&&this.#c.delete(b)}}this.notify({type:"removed",mutation:a})}canRun(a){let b=N(a);if("string"!=typeof b)return!0;{let c=this.#c.get(b),d=c?.find(a=>"pending"===a.state.status);return!d||d===a}}runNext(a){let b=N(a);if("string"!=typeof b)return Promise.resolve();{let c=this.#c.get(b)?.find(b=>b!==a&&b.state.isPaused);return c?.continue()??Promise.resolve()}}clear(){H.notifyManager.batch(()=>{this.#b.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#b.clear(),this.#c.clear()})}getAll(){return Array.from(this.#b)}find(a){let b={exact:!0,...a};return this.getAll().find(a=>(0,F.matchMutation)(b,a))}findAll(a={}){return this.getAll().filter(b=>(0,F.matchMutation)(a,b))}notify(a){H.notifyManager.batch(()=>{this.listeners.forEach(b=>{b(a)})})}resumePausedMutations(){let a=this.getAll().filter(a=>a.state.isPaused);return H.notifyManager.batch(()=>Promise.all(a.map(a=>a.continue().catch(F.noop))))}};function N(a){return a.options.scope?.id}var O=a.i(99745),P=a.i(12552);function Q(a){return{onFetch:(b,c)=>{let d=b.options,e=b.fetchOptions?.meta?.fetchMore?.direction,f=b.state.data?.pages||[],g=b.state.data?.pageParams||[],h={pages:[],pageParams:[]},i=0,j=async()=>{let c=!1,j=(0,F.ensureQueryFn)(b.options,b.fetchOptions),k=async(a,d,e)=>{let f;if(c)return Promise.reject();if(null==d&&a.pages.length)return Promise.resolve(a);let g=(Object.defineProperty(f={client:b.client,queryKey:b.queryKey,pageParam:d,direction:e?"backward":"forward",meta:b.options.meta},"signal",{enumerable:!0,get:()=>(b.signal.aborted?c=!0:b.signal.addEventListener("abort",()=>{c=!0}),b.signal)}),f),h=await j(g),{maxPages:i}=b.options,k=e?F.addToStart:F.addToEnd;return{pages:k(a.pages,h,i),pageParams:k(a.pageParams,d,i)}};if(e&&f.length){let a="backward"===e,b={pages:f,pageParams:g},c=(a?function(a,{pages:b,pageParams:c}){return b.length>0?a.getPreviousPageParam?.(b[0],b,c[0],c):void 0}:R)(d,b);h=await k(b,c,a)}else{let b=a??f.length;do{let a=0===i?g[0]??d.initialPageParam:R(d,h);if(i>0&&null==a)break;h=await k(h,a),i++}while(i<b)}return h};b.options.persister?b.fetchFn=()=>b.options.persister?.(j,{client:b.client,queryKey:b.queryKey,meta:b.options.meta,signal:b.signal},c):b.fetchFn=j}}}function R(a,{pages:b,pageParams:c}){let d=b.length-1;return b.length>0?a.getNextPageParam(b[d],b,c[d],c):void 0}var S=class{#e;#f;#g;#h;#i;#j;#k;#l;constructor(a={}){this.#e=a.queryCache||new J,this.#f=a.mutationCache||new M,this.#g=a.defaultOptions||{},this.#h=new Map,this.#i=new Map,this.#j=0}mount(){this.#j++,1===this.#j&&(this.#k=O.focusManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#l=P.onlineManager.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#j--,0===this.#j&&(this.#k?.(),this.#k=void 0,this.#l?.(),this.#l=void 0)}isFetching(a){return this.#e.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#f.findAll({...a,status:"pending"}).length}getQueryData(a){let b=this.defaultQueryOptions({queryKey:a});return this.#e.get(b.queryHash)?.state.data}ensureQueryData(a){let b=this.defaultQueryOptions(a),c=this.#e.build(this,b),d=c.state.data;return void 0===d?this.fetchQuery(a):(a.revalidateIfStale&&c.isStaleByTime((0,F.resolveStaleTime)(b.staleTime,c))&&this.prefetchQuery(b),Promise.resolve(d))}getQueriesData(a){return this.#e.findAll(a).map(({queryKey:a,state:b})=>[a,b.data])}setQueryData(a,b,c){let d=this.defaultQueryOptions({queryKey:a}),e=this.#e.get(d.queryHash),f=e?.state.data,g=(0,F.functionalUpdate)(b,f);if(void 0!==g)return this.#e.build(this,d).setData(g,{...c,manual:!0})}setQueriesData(a,b,c){return H.notifyManager.batch(()=>this.#e.findAll(a).map(({queryKey:a})=>[a,this.setQueryData(a,b,c)]))}getQueryState(a){let b=this.defaultQueryOptions({queryKey:a});return this.#e.get(b.queryHash)?.state}removeQueries(a){let b=this.#e;H.notifyManager.batch(()=>{b.findAll(a).forEach(a=>{b.remove(a)})})}resetQueries(a,b){let c=this.#e;return H.notifyManager.batch(()=>(c.findAll(a).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...a},b)))}cancelQueries(a,b={}){let c={revert:!0,...b};return Promise.all(H.notifyManager.batch(()=>this.#e.findAll(a).map(a=>a.cancel(c)))).then(F.noop).catch(F.noop)}invalidateQueries(a,b={}){return H.notifyManager.batch(()=>(this.#e.findAll(a).forEach(a=>{a.invalidate()}),a?.refetchType==="none")?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},b))}refetchQueries(a,b={}){let c={...b,cancelRefetch:b.cancelRefetch??!0};return Promise.all(H.notifyManager.batch(()=>this.#e.findAll(a).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let b=a.fetch(void 0,c);return c.throwOnError||(b=b.catch(F.noop)),"paused"===a.state.fetchStatus?Promise.resolve():b}))).then(F.noop)}fetchQuery(a){let b=this.defaultQueryOptions(a);void 0===b.retry&&(b.retry=!1);let c=this.#e.build(this,b);return c.isStaleByTime((0,F.resolveStaleTime)(b.staleTime,c))?c.fetch(b):Promise.resolve(c.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(F.noop).catch(F.noop)}fetchInfiniteQuery(a){return a.behavior=Q(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(F.noop).catch(F.noop)}ensureInfiniteQueryData(a){return a.behavior=Q(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return P.onlineManager.isOnline()?this.#f.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#f}getDefaultOptions(){return this.#g}setDefaultOptions(a){this.#g=a}setQueryDefaults(a,b){this.#h.set((0,F.hashKey)(a),{queryKey:a,defaultOptions:b})}getQueryDefaults(a){let b=[...this.#h.values()],c={};return b.forEach(b=>{(0,F.partialMatchKey)(a,b.queryKey)&&Object.assign(c,b.defaultOptions)}),c}setMutationDefaults(a,b){this.#i.set((0,F.hashKey)(a),{mutationKey:a,defaultOptions:b})}getMutationDefaults(a){let b=[...this.#i.values()],c={};return b.forEach(b=>{(0,F.partialMatchKey)(a,b.mutationKey)&&Object.assign(c,b.defaultOptions)}),c}defaultQueryOptions(a){if(a._defaulted)return a;let b={...this.#g.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return b.queryHash||(b.queryHash=(0,F.hashQueryKeyByOptions)(b.queryKey,b)),void 0===b.refetchOnReconnect&&(b.refetchOnReconnect="always"!==b.networkMode),void 0===b.throwOnError&&(b.throwOnError=!!b.suspense),!b.networkMode&&b.persister&&(b.networkMode="offlineFirst"),b.queryFn===F.skipToken&&(b.enabled=!1),b}defaultMutationOptions(a){return a?._defaulted?a:{...this.#g.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#e.clear(),this.#f.clear()}},T=a.i(37927);function U({children:a}){let[d]=(0,c.useState)(()=>new S({defaultOptions:{queries:{staleTime:3e4,gcTime:3e5,retry:1,refetchOnWindowFocus:!0}}}));return(0,b.jsxs)(T.QueryClientProvider,{client:d,children:[a,!1]})}var V=a.i(68114);let W=[{name:"Dashboard",href:"/admin",icon:i},{name:"Content",icon:j.FileText,children:[{name:"Services",href:"/admin/services",icon:A.Briefcase},{name:"Portfolio",href:"/admin/portfolio",icon:k.FolderKanban},{name:"Testimonials",href:"/admin/testimonials",icon:x.Star},{name:"Blog",href:"/admin/blog",icon:z},{name:"Media",href:"/admin/media",icon:w.Image}]},{name:"Communication",icon:l.MessageSquare,children:[{name:"Live Chat",href:"/admin/chat",icon:l.MessageSquare},{name:"Contacts",href:"/admin/contacts",icon:y.Mail},{name:"Clients",href:"/admin/clients",icon:m.Users}]},{name:"Analytics",href:"/admin/analytics",icon:n.BarChart3},{name:"SEO Tools",href:"/admin/seo",icon:v.Sparkles},{name:"Settings",href:"/admin/settings",icon:o.Settings}];function X({children:a}){let[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(["Content","Communication"]),[l,m]=(0,c.useState)(null),[n,w]=(0,c.useState)(!0),x=(0,e.usePathname)(),y=(0,e.useRouter)(),z="/admin/login"===x;(0,c.useEffect)(()=>{if(z)return void w(!1);(async()=>{let{data:{session:a}}=await E.supabase.auth.getSession();a?(m(a.user),w(!1)):y.push("/admin/login")})();let{data:{subscription:a}}=E.supabase.auth.onAuthStateChange((a,b)=>{"SIGNED_OUT"===a?y.push("/admin/login"):b&&m(b.user)});return()=>a.unsubscribe()},[y,z]);let A=async()=>{await E.supabase.auth.signOut(),y.push("/admin/login")},F=a=>"/admin"===a?"/admin"===x:x.startsWith(a);return z?(0,b.jsx)(U,{children:a}):n?(0,b.jsx)("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-8 h-8 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin"})}):(0,b.jsx)(U,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-zinc-950",children:[(0,b.jsx)(g.AnimatePresence,{children:h&&(0,b.jsx)(f.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden"})}),(0,b.jsxs)("aside",{className:(0,V.cn)("fixed top-0 left-0 z-50 h-full w-64 bg-zinc-900/95 backdrop-blur-xl border-r border-zinc-800 transition-transform duration-300 lg:translate-x-0",h?"translate-x-0":"-translate-x-full"),children:[(0,b.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 border-b border-zinc-800",children:[(0,b.jsxs)(d.default,{href:"/admin",className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center",children:(0,b.jsx)(v.Sparkles,{className:"w-4 h-4 text-white"})}),(0,b.jsx)("span",{className:"font-bold text-white",children:"BIGWEB"})]}),(0,b.jsx)("button",{onClick:()=>i(!1),className:"lg:hidden p-2 text-zinc-400 hover:text-white",children:(0,b.jsx)(s.X,{className:"w-5 h-5"})})]}),(0,b.jsx)("nav",{className:"p-4 space-y-1 overflow-y-auto h-[calc(100vh-4rem)]",children:W.map(a=>(0,b.jsx)("div",{children:a.children?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:()=>{var b;return b=a.name,void k(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:"w-full flex items-center justify-between px-3 py-2.5 text-sm font-medium text-zinc-400 hover:text-white hover:bg-zinc-800/50 rounded-lg transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(a.icon,{className:"w-5 h-5"}),a.name]}),(0,b.jsx)(q.ChevronDown,{className:(0,V.cn)("w-4 h-4 transition-transform",j.includes(a.name)&&"rotate-180")})]}),(0,b.jsx)(g.AnimatePresence,{children:j.includes(a.name)&&(0,b.jsx)(f.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden ml-4 mt-1 space-y-1",children:a.children.map(a=>(0,b.jsxs)(d.default,{href:a.href,className:(0,V.cn)("flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-colors",F(a.href)?"bg-emerald-500/10 text-emerald-500 font-medium":"text-zinc-400 hover:text-white hover:bg-zinc-800/50"),children:[(0,b.jsx)(a.icon,{className:"w-4 h-4"}),a.name]},a.href))})})]}):(0,b.jsxs)(d.default,{href:a.href,className:(0,V.cn)("flex items-center gap-3 px-3 py-2.5 text-sm font-medium rounded-lg transition-colors",F(a.href)?"bg-emerald-500/10 text-emerald-500":"text-zinc-400 hover:text-white hover:bg-zinc-800/50"),children:[(0,b.jsx)(a.icon,{className:"w-5 h-5"}),a.name]})},a.name))})]}),(0,b.jsxs)("div",{className:"lg:pl-64",children:[(0,b.jsx)("header",{className:"sticky top-0 z-30 h-16 bg-zinc-950/80 backdrop-blur-xl border-b border-zinc-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between h-full px-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>i(!0),className:"lg:hidden p-2 text-zinc-400 hover:text-white",children:(0,b.jsx)(r.Menu,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{className:"hidden md:flex items-center gap-2 bg-zinc-800/50 rounded-lg px-3 py-2 w-64",children:[(0,b.jsx)(u.Search,{className:"w-4 h-4 text-zinc-500"}),(0,b.jsx)("input",{type:"text",placeholder:"Search...",className:"bg-transparent text-sm text-white placeholder:text-zinc-500 focus:outline-none flex-1"}),(0,b.jsx)("kbd",{className:"hidden sm:inline-flex h-5 select-none items-center gap-1 rounded border border-zinc-700 bg-zinc-800 px-1.5 font-mono text-[10px] font-medium text-zinc-400",children:"âŒ˜K"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(B.Button,{variant:"ghost",size:"icon",className:"relative text-zinc-400 hover:text-white",children:[(0,b.jsx)(t.Bell,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-emerald-500 rounded-full"})]}),(0,b.jsxs)(D.DropdownMenu,{children:[(0,b.jsx)(D.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(B.Button,{variant:"ghost",className:"flex items-center gap-2 px-2",children:[(0,b.jsxs)(C.Avatar,{className:"h-8 w-8",children:[(0,b.jsx)(C.AvatarImage,{src:l?.user_metadata?.avatar_url}),(0,b.jsx)(C.AvatarFallback,{className:"bg-emerald-500/20 text-emerald-500",children:l?.email?.charAt(0).toUpperCase()||"A"})]}),(0,b.jsx)("span",{className:"hidden md:block text-sm text-zinc-300",children:l?.email?.split("@")[0]||"Admin"})]})}),(0,b.jsxs)(D.DropdownMenuContent,{align:"end",className:"w-56 bg-zinc-900 border-zinc-800",children:[(0,b.jsx)(D.DropdownMenuLabel,{className:"text-zinc-400",children:"My Account"}),(0,b.jsx)(D.DropdownMenuSeparator,{className:"bg-zinc-800"}),(0,b.jsxs)(D.DropdownMenuItem,{className:"text-zinc-300 focus:bg-zinc-800 focus:text-white cursor-pointer",children:[(0,b.jsx)(o.Settings,{className:"w-4 h-4 mr-2"}),"Settings"]}),(0,b.jsxs)(D.DropdownMenuItem,{onClick:A,className:"text-red-400 focus:bg-red-500/10 focus:text-red-400 cursor-pointer",children:[(0,b.jsx)(p,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]})}),(0,b.jsx)("main",{className:"p-6",children:a})]})]})})}a.s(["default",()=>X],78170)}];

//# sourceMappingURL=app_admin_layout_tsx_1751cc55._.js.map