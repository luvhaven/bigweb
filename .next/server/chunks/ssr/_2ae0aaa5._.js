module.exports=[24569,a=>{"use strict";let b=(0,a.i(70106).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],24569)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},15618,a=>{"use strict";let b=(0,a.i(70106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},1237,a=>{"use strict";var b=a.i(95445);a.s(["pagesAPI",0,{async getAll(a){let c=b.supabase.from("pages").select("*, author:profiles(full_name, avatar_url)").order("created_at",{ascending:!1});a?.status&&(c=c.eq("status",a.status)),a?.author_id&&(c=c.eq("author_id",a.author_id));let{data:d,error:e}=await c;if(e)throw e;return d},async getById(a){let{data:c,error:d}=await b.supabase.from("pages").select("*, author:profiles(full_name, avatar_url)").eq("id",a).single();if(d)throw d;return c},async getBySlug(a){let{data:c,error:d}=await b.supabase.from("pages").select("*").eq("slug",a).single();if(d)throw d;return c},async create(a){let{data:c,error:d}=await b.supabase.from("pages").insert(a).select().single();if(d)throw d;return c},async update(a,c){let{data:d,error:e}=await b.supabase.from("pages").update(c).eq("id",a).select().single();if(e)throw e;return d},async delete(a){let{error:c}=await b.supabase.from("pages").delete().eq("id",a);if(c)throw c},async publish(a){let{data:c,error:d}=await b.supabase.from("pages").update({status:"published",published_at:new Date().toISOString()}).eq("id",a).select().single();if(d)throw d;return c},async incrementViews(a){let{error:c}=await b.supabase.rpc("increment_page_views",{page_id:a});if(c)throw c},async createVersion(a,c,d){let{data:e}=await b.supabase.from("page_versions").select("version_number").eq("page_id",a).order("version_number",{ascending:!1}).limit(1),f=e&&e.length>0?e[0].version_number+1:1,{data:g,error:h}=await b.supabase.from("page_versions").insert({page_id:a,content:c,version_number:f,created_by:d}).select().single();if(h)throw h;return g},async getVersions(a){let{data:c,error:d}=await b.supabase.from("page_versions").select("*, created_by:profiles(full_name)").eq("page_id",a).order("version_number",{ascending:!1});if(d)throw d;return c}}])},79360,a=>{"use strict";let b=(0,a.i(70106).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);a.s(["MoreVertical",()=>b],79360)},95273,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(15618),f=a.i(87532),g=a.i(79360),h=a.i(24569),i=a.i(81560),j=a.i(4720),k=a.i(44494),l=a.i(38246),m=a.i(1237),n=a.i(99570),o=a.i(66718),p=a.i(23292),q=a.i(35732);function r(){let[a,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)("");(0,c.useEffect)(()=>{w()},[]);let w=async()=>{try{let a=await m.pagesAPI.getAll();r(a||[])}catch(a){p.toast.error("Failed to load pages")}finally{t(!1)}},x=async b=>{if(confirm("Delete this page?"))try{await m.pagesAPI.delete(b),r(a.filter(a=>a.id!==b)),p.toast.success("Page deleted")}catch(a){p.toast.error("Failed to delete")}},y=a.filter(a=>a.title?.toLowerCase().includes(u.toLowerCase())||a.slug?.toLowerCase().includes(u.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Pages"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage your website content."})]}),(0,b.jsx)(l.default,{href:"/admin/pages/new",children:(0,b.jsxs)(n.Button,{className:"bg-accent hover:bg-accent/90",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4 mr-2"})," New Page"]})})]}),(0,b.jsx)("div",{className:"flex items-center gap-4 bg-card p-4 rounded-xl border border-border",children:(0,b.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,b.jsx)(o.Input,{placeholder:"Search pages...",value:u,onChange:a=>v(a.target.value),className:"pl-9"})]})}),s?(0,b.jsx)("div",{className:"text-center py-20",children:"Loading pages..."}):0===y.length?(0,b.jsx)("div",{className:"text-center py-20 bg-card rounded-xl border border-border border-dashed",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No pages found"})}):(0,b.jsx)("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-secondary/50 border-b border-border",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left p-4 font-medium text-sm text-muted-foreground",children:"Title"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium text-sm text-muted-foreground",children:"Slug"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium text-sm text-muted-foreground",children:"Status"}),(0,b.jsx)("th",{className:"text-left p-4 font-medium text-sm text-muted-foreground",children:"Last Updated"}),(0,b.jsx)("th",{className:"text-right p-4 font-medium text-sm text-muted-foreground",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:y.map((a,c)=>(0,b.jsxs)(d.motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*c},className:"border-b border-border last:border-0 hover:bg-secondary/20 transition-colors",children:[(0,b.jsxs)("td",{className:"p-4 font-medium flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded bg-accent/10 flex items-center justify-center text-accent",children:(0,b.jsx)(j.FileText,{className:"w-4 h-4"})}),a.title]}),(0,b.jsxs)("td",{className:"p-4 text-sm text-muted-foreground",children:["/",a.slug]}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"published"===a.status?"bg-green-500/10 text-green-500":"bg-secondary text-muted-foreground"}`,children:a.status})}),(0,b.jsx)("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(a.updated_at||a.created_at).toLocaleDateString()}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsxs)(q.DropdownMenu,{children:[(0,b.jsx)(q.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(n.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,b.jsx)(g.MoreVertical,{className:"w-4 h-4"})})}),(0,b.jsxs)(q.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(l.default,{href:`/admin/pages/${a.id}`,children:(0,b.jsxs)(q.DropdownMenuItem,{children:[(0,b.jsx)(h.Edit,{className:"w-4 h-4 mr-2"})," Edit"]})}),(0,b.jsx)("a",{href:`/${a.slug}`,target:"_blank",rel:"noreferrer",children:(0,b.jsxs)(q.DropdownMenuItem,{children:[(0,b.jsx)(k.Globe,{className:"w-4 h-4 mr-2"})," View Live"]})}),(0,b.jsxs)(q.DropdownMenuItem,{className:"text-red-500",onClick:()=>x(a.id),children:[(0,b.jsx)(i.Trash2,{className:"w-4 h-4 mr-2"})," Delete"]})]})]})})]},a.id))})]})})]})}a.s(["default",()=>r])}];

//# sourceMappingURL=_2ae0aaa5._.js.map