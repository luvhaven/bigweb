module.exports=[66718,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},38053,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(68114);let e={default:"bg-zinc-900/60 border-zinc-800/50",elevated:"bg-zinc-900/80 border-zinc-700/50 shadow-xl",subtle:"bg-zinc-900/40 border-zinc-800/30"};function f({children:a,variant:f="default",hover:g=!0,glow:h=!1,className:i,...j}){return(0,b.jsx)(c.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},whileHover:g?{y:-2,transition:{duration:.2}}:void 0,className:(0,d.cn)("relative rounded-xl border backdrop-blur-xl overflow-hidden",e[f],h&&"before:absolute before:inset-0 before:rounded-xl before:bg-gradient-to-br before:from-emerald-500/10 before:to-transparent before:opacity-0 before:transition-opacity hover:before:opacity-100",i),...j,children:a})}function g({title:a,value:c,change:e,icon:g,trend:h="neutral",loading:i=!1}){return(0,b.jsx)(f,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-zinc-400 mb-1",children:a}),i?(0,b.jsx)("div",{className:"h-8 w-24 bg-zinc-800 rounded animate-pulse"}):(0,b.jsx)("p",{className:"text-3xl font-bold text-white",children:c}),void 0!==e&&!i&&(0,b.jsxs)("div",{className:(0,d.cn)("flex items-center gap-1 mt-2 text-sm",{up:"text-emerald-500",down:"text-red-500",neutral:"text-zinc-400"}[h]),children:["up"===h&&(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"down"===h&&(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),(0,b.jsxs)("span",{children:[e>0?"+":"",e,"%"]}),(0,b.jsx)("span",{className:"text-zinc-500",children:"vs last week"})]})]}),(0,b.jsx)("div",{className:"p-3 rounded-lg bg-emerald-500/10 text-emerald-500",children:g})]})})}function h({icon:a,title:c,description:e,time:f,status:g="info"}){return(0,b.jsxs)("div",{className:"flex gap-4 p-4 rounded-lg hover:bg-zinc-800/50 transition-colors",children:[(0,b.jsx)("div",{className:(0,d.cn)("p-2 rounded-lg border",{success:"bg-emerald-500/10 text-emerald-500 border-emerald-500/20",warning:"bg-amber-500/10 text-amber-500 border-amber-500/20",error:"bg-red-500/10 text-red-500 border-red-500/20",info:"bg-blue-500/10 text-blue-500 border-blue-500/20"}[g]),children:a}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium text-white truncate",children:c}),(0,b.jsx)("p",{className:"text-sm text-zinc-400 truncate",children:e})]}),(0,b.jsx)("span",{className:"text-xs text-zinc-500 whitespace-nowrap",children:f})]})}function i({title:a,description:c,action:d}){return(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white",children:a}),c&&(0,b.jsx)("p",{className:"text-sm text-zinc-400 mt-1",children:c})]}),d]})}function j({icon:a,title:c,description:d,action:e}){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)("div",{className:"p-4 rounded-full bg-zinc-800/50 text-zinc-400 mb-4",children:a}),(0,b.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:c}),(0,b.jsx)("p",{className:"text-sm text-zinc-400 max-w-sm mb-6",children:d}),e]})}function k({className:a}){return(0,b.jsx)("div",{className:(0,d.cn)("bg-zinc-800 rounded animate-pulse",a)})}a.s(["ActivityItem",()=>h,"EmptyState",()=>j,"GlassCard",()=>f,"SectionHeader",()=>i,"Skeleton",()=>k,"StatWidget",()=>g])},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},79360,a=>{"use strict";let b=(0,a.i(70106).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);a.s(["MoreVertical",()=>b],79360)},84505,a=>{"use strict";let b=(0,a.i(70106).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);a.s(["Download",()=>b],84505)},94449,a=>{"use strict";var b=a.i(33217),c=a.i(70025),d=a.i(37927);let e=(0,a.i(40422).createClient)("https://krstrtqdnvxzvmiphhwm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtyc3RydHFkbnZ4enZtaXBoaHdtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQwODA3MzIsImV4cCI6MjA3OTY1NjczMn0.0pE8vhH867zDOnTbX0RVx8XI9l8CT9D1uPLOMOQgTdE");function f(){return(0,b.useQuery)({queryKey:["blog-posts"],queryFn:async()=>{let{data:a,error:b}=await e.from("blog_posts").select("*").order("created_at",{ascending:!1});if(b)throw b;return a}})}function g(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:async a=>{let{data:b,error:c}=await e.from("blog_posts").insert([a]).select().single();if(c)throw c;return b},onSuccess:()=>{a.invalidateQueries({queryKey:["blog-posts"]})}})}function h(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:async({id:a,...b})=>{let{data:c,error:d}=await e.from("blog_posts").update(b).eq("id",a).select().single();if(d)throw d;return c},onSuccess:(b,c)=>{a.invalidateQueries({queryKey:["blog-posts"]}),a.invalidateQueries({queryKey:["blog-posts",c.id]})}})}function i(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:async a=>{let{error:b}=await e.from("blog_posts").delete().eq("id",a);if(b)throw b},onSuccess:()=>{a.invalidateQueries({queryKey:["blog-posts"]})}})}function j(a){return(0,b.useQuery)({queryKey:["media-files",a],queryFn:async()=>{let b=e.from("media_library").select("*").order("created_at",{ascending:!1});a&&(b=b.eq("folder",a));let{data:c,error:d}=await b;if(d)throw d;return c}})}function k(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:async({file:a,folder:b="uncategorized"})=>{let c=a.name.split(".").pop(),d=`${Date.now()}-${Math.random().toString(36).substring(7)}.${c}`,f=`${b}/${d}`,{data:g,error:h}=await e.storage.from("media").upload(f,a);if(h)throw h;let{data:{publicUrl:i}}=e.storage.from("media").getPublicUrl(f),{data:j,error:k}=await e.from("media_library").insert([{filename:d,original_filename:a.name,file_path:i,file_size:a.size,mime_type:a.type,folder:b}]).select().single();if(k)throw k;return j},onSuccess:()=>{a.invalidateQueries({queryKey:["media-files"]})}})}function l(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:async a=>{let{data:b}=await e.from("media_library").select("file_path").eq("id",a).single();if(b){let a=b.file_path.split("/").slice(-2).join("/");await e.storage.from("media").remove([a])}let{error:c}=await e.from("media_library").delete().eq("id",a);if(c)throw c},onSuccess:()=>{a.invalidateQueries({queryKey:["media-files"]})}})}function m(){return(0,b.useQuery)({queryKey:["site-settings"],queryFn:async()=>{let{data:a,error:b}=await e.from("site_settings").select("*").order("key");if(b)throw b;return a}})}function n(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:async({key:a,value:b})=>{let{data:c,error:d}=await e.from("site_settings").update({value:b}).eq("key",a).select().single();if(d)throw d;return c},onSuccess:()=>{a.invalidateQueries({queryKey:["site-settings"]})}})}a.s(["useBlogPosts",()=>f,"useCreateBlogPost",()=>g,"useDeleteBlogPost",()=>i,"useDeleteMedia",()=>l,"useMediaFiles",()=>j,"useSiteSettings",()=>m,"useUpdateBlogPost",()=>h,"useUpdateSiteSetting",()=>n,"useUploadMedia",()=>k])},73320,a=>{"use strict";let b=(0,a.i(70106).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);a.s(["Upload",()=>b],73320)},90464,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(73320),g=a.i(87532),h=a.i(70106);let i=(0,h.default)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var j=a.i(38632);let k=(0,h.default)("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);var l=a.i(4720),m=a.i(79360),n=a.i(81560),o=a.i(84505),p=a.i(77156),q=a.i(96221),r=a.i(33441),s=a.i(99570),t=a.i(66718),u=a.i(38053),v=a.i(35732),w=a.i(14574),x=a.i(94449),y=a.i(68114),z=a.i(6704);let A=[{name:"All Files",value:null},{name:"Blog",value:"blog"},{name:"Portfolio",value:"portfolio"},{name:"Services",value:"services"},{name:"Uncategorized",value:"uncategorized"}];function B(){let[a,h]=(0,c.useState)(null),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(!1),{data:L,isLoading:M}=(0,x.useMediaFiles)(a||void 0),N=(0,x.useUploadMedia)(),O=(0,x.useDeleteMedia)(),P=L?.filter(a=>a.original_filename.toLowerCase().includes(B.toLowerCase())||a.alt_text?.toLowerCase().includes(B.toLowerCase())),Q=a=>{a.preventDefault(),a.stopPropagation(),"dragenter"===a.type||"dragover"===a.type?K(!0):"dragleave"===a.type&&K(!1)},R=async b=>{for(let c of(b.preventDefault(),b.stopPropagation(),K(!1),Array.from(b.dataTransfer.files)))try{await N.mutateAsync({file:c,folder:a||"uncategorized"}),z.default.success(`Uploaded ${c.name}`)}catch(a){z.default.error(`Failed to upload ${c.name}`)}},S=async b=>{for(let c of Array.from(b.target.files||[]))try{await N.mutateAsync({file:c,folder:a||"uncategorized"}),z.default.success(`Uploaded ${c.name}`)}catch(a){z.default.error(`Failed to upload ${c.name}`)}G(!1)},T=async()=>{if(D)try{await O.mutateAsync(D.id),z.default.success("File deleted successfully"),I(!1),E(null)}catch(a){z.default.error("Failed to delete file")}},U=a=>{navigator.clipboard.writeText(a),z.default.success("URL copied to clipboard")};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Media Library"}),(0,b.jsx)("p",{className:"text-zinc-400 mt-1",children:"Upload and manage your media files"})]}),(0,b.jsxs)(s.Button,{onClick:()=>G(!0),className:"bg-emerald-500 hover:bg-emerald-600",children:[(0,b.jsx)(f.Upload,{className:"w-4 h-4 mr-2"}),"Upload Files"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)(u.GlassCard,{className:"p-4",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-zinc-400 mb-3",children:"Folders"}),(0,b.jsx)("div",{className:"space-y-1",children:A.map(c=>(0,b.jsxs)("button",{onClick:()=>h(c.value),className:(0,y.cn)("w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors",a===c.value?"bg-emerald-500/10 text-emerald-500":"text-zinc-400 hover:text-white hover:bg-zinc-800/50"),children:[(0,b.jsx)(i,{className:"w-4 h-4"}),c.name]},c.name))})]}),(0,b.jsxs)("div",{className:"lg:col-span-3 space-y-4",children:[(0,b.jsx)(u.GlassCard,{className:"p-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),(0,b.jsx)(t.Input,{placeholder:"Search files...",value:B,onChange:a=>C(a.target.value),className:"pl-10 bg-zinc-800/50 border-zinc-700 text-white"})]})}),M?(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[1,2,3,4,5,6].map(a=>(0,b.jsx)(u.GlassCard,{className:"aspect-square p-2",children:(0,b.jsx)(u.Skeleton,{className:"w-full h-full rounded"})},a))}):P?.length===0?(0,b.jsx)(u.EmptyState,{icon:(0,b.jsx)(j.Image,{className:"w-8 h-8"}),title:"No files yet",description:"Upload your first file to get started.",action:(0,b.jsxs)(s.Button,{onClick:()=>G(!0),className:"bg-emerald-500 hover:bg-emerald-600",children:[(0,b.jsx)(f.Upload,{className:"w-4 h-4 mr-2"}),"Upload Files"]})}):(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:(0,b.jsx)(e.AnimatePresence,{children:P?.map(a=>{var c,e;let f=(c=a.mime_type).startsWith("image/")?j.Image:c.startsWith("video/")?k:l.FileText;return(0,b.jsx)(d.motion.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:(0,b.jsxs)(u.GlassCard,{className:"group relative aspect-square overflow-hidden",children:[a.mime_type.startsWith("image/")?(0,b.jsx)("img",{src:a.file_path,alt:a.alt_text||a.original_filename,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-zinc-800",children:(0,b.jsx)(f,{className:"w-12 h-12 text-zinc-600"})}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col",children:[(0,b.jsxs)("div",{className:"p-2 flex justify-end gap-1",children:[(0,b.jsx)(s.Button,{size:"icon",variant:"secondary",className:"h-8 w-8",onClick:()=>U(a.file_path),children:(0,b.jsx)(r.Check,{className:"w-4 h-4"})}),(0,b.jsxs)(v.DropdownMenu,{children:[(0,b.jsx)(v.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(s.Button,{size:"icon",variant:"secondary",className:"h-8 w-8",children:(0,b.jsx)(m.MoreVertical,{className:"w-4 h-4"})})}),(0,b.jsxs)(v.DropdownMenuContent,{className:"bg-zinc-900 border-zinc-800",children:[(0,b.jsxs)(v.DropdownMenuItem,{onClick:()=>window.open(a.file_path,"_blank"),className:"text-zinc-300",children:[(0,b.jsx)(p.Eye,{className:"w-4 h-4 mr-2"}),"View"]}),(0,b.jsxs)(v.DropdownMenuItem,{onClick:()=>U(a.file_path),className:"text-zinc-300",children:[(0,b.jsx)(o.Download,{className:"w-4 h-4 mr-2"}),"Copy URL"]}),(0,b.jsx)(v.DropdownMenuSeparator,{className:"bg-zinc-800"}),(0,b.jsxs)(v.DropdownMenuItem,{onClick:()=>{E(a),I(!0)},className:"text-red-400",children:[(0,b.jsx)(n.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),(0,b.jsx)("div",{className:"flex-1"}),(0,b.jsxs)("div",{className:"p-2 bg-gradient-to-t from-black/80 to-transparent",children:[(0,b.jsx)("p",{className:"text-white text-xs font-medium truncate",children:a.original_filename}),(0,b.jsx)("p",{className:"text-zinc-400 text-xs",children:(e=a.file_size)<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB"})]})]})]})},a.id)})})})]})]}),(0,b.jsx)(w.Dialog,{open:F,onOpenChange:G,children:(0,b.jsxs)(w.DialogContent,{className:"bg-zinc-900 border-zinc-800",children:[(0,b.jsx)(w.DialogHeader,{children:(0,b.jsx)(w.DialogTitle,{className:"text-white",children:"Upload Files"})}),(0,b.jsxs)("div",{className:(0,y.cn)("relative border-2 border-dashed rounded-lg p-12 text-center transition-colors",J?"border-emerald-500 bg-emerald-500/10":"border-zinc-700 hover:border-zinc-600"),onDragEnter:Q,onDragLeave:Q,onDragOver:Q,onDrop:R,children:[(0,b.jsx)("input",{type:"file",multiple:!0,onChange:S,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),(0,b.jsx)(f.Upload,{className:"w-12 h-12 text-zinc-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-white font-medium mb-2",children:"Drag and drop files here"}),(0,b.jsx)("p",{className:"text-zinc-400 text-sm",children:"or click to browse"})]}),N.isPending&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 text-emerald-500",children:[(0,b.jsx)(q.Loader2,{className:"w-4 h-4 animate-spin"}),(0,b.jsx)("span",{className:"text-sm",children:"Uploading..."})]})]})}),(0,b.jsx)(w.Dialog,{open:H,onOpenChange:I,children:(0,b.jsxs)(w.DialogContent,{className:"bg-zinc-900 border-zinc-800",children:[(0,b.jsx)(w.DialogHeader,{children:(0,b.jsx)(w.DialogTitle,{className:"text-white",children:"Delete File"})}),(0,b.jsxs)("p",{className:"text-zinc-400",children:['Are you sure you want to delete "',D?.original_filename,'"? This action cannot be undone.']}),(0,b.jsxs)(w.DialogFooter,{children:[(0,b.jsx)(s.Button,{variant:"outline",onClick:()=>I(!1),className:"border-zinc-700 text-zinc-300",children:"Cancel"}),(0,b.jsxs)(s.Button,{onClick:T,disabled:O.isPending,className:"bg-red-500 hover:bg-red-600",children:[O.isPending&&(0,b.jsx)(q.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Delete"]})]})]})})]})}a.s(["default",()=>B],90464)}];

//# sourceMappingURL=_b780c7cb._.js.map