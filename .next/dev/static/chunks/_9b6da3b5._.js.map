{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/bigweb-ff2/src/lib/api/chat.ts"],"sourcesContent":["import { supabase } from '../supabase/client'\r\n\r\nexport const chatAPI = {\r\n    // Sessions\r\n    async getAllSessions(filters?: { status?: string; assigned_to?: string }) {\r\n        let query = supabase\r\n            .from('chat_sessions')\r\n            .select('*, assigned:profiles(full_name, avatar_url)')\r\n            .order('created_at', { ascending: false })\r\n\r\n        if (filters?.status) query = query.eq('status', filters.status)\r\n        if (filters?.assigned_to) query = query.eq('assigned_to', filters.assigned_to)\r\n\r\n        const { data, error } = await query\r\n        if (error) throw error\r\n        return data\r\n    },\r\n\r\n    async getSessionById(id: string) {\r\n        const { data, error } = await supabase\r\n            .from('chat_sessions')\r\n            .select('*, assigned:profiles(full_name, avatar_url)')\r\n            .eq('id', id)\r\n            .single()\r\n        if (error) throw error\r\n        return data\r\n    },\r\n\r\n    async createSession(session: any) {\r\n        const { data, error } = await supabase\r\n            .from('chat_sessions')\r\n            .insert(session)\r\n            .select()\r\n            .single()\r\n        if (error) throw error\r\n        return data\r\n    },\r\n\r\n    async updateSession(id: string, updates: any) {\r\n        const { data, error } = await supabase\r\n            .from('chat_sessions')\r\n            .update(updates)\r\n            .eq('id', id)\r\n            .select()\r\n            .single()\r\n        if (error) throw error\r\n        return data\r\n    },\r\n\r\n    async assignSession(id: string, agentId: string) {\r\n        const { data, error } = await supabase\r\n            .from('chat_sessions')\r\n            .update({ assigned_to: agentId, status: 'active' })\r\n            .eq('id', id)\r\n            .select()\r\n            .single()\r\n        if (error) throw error\r\n        return data\r\n    },\r\n\r\n    async closeSession(id: string, rating?: number) {\r\n        const { data, error } = await supabase\r\n            .from('chat_sessions')\r\n            .update({\r\n                status: 'closed',\r\n                ended_at: new Date().toISOString(),\r\n                ...(rating && { rating })\r\n            })\r\n            .eq('id', id)\r\n            .select()\r\n            .single()\r\n        if (error) throw error\r\n        return data\r\n    },\r\n\r\n    // Messages\r\n    async getMessages(sessionId: string) {\r\n        const { data, error } = await supabase\r\n            .from('chat_messages')\r\n            .select('*')\r\n            .eq('session_id', sessionId)\r\n            .order('created_at')\r\n        if (error) throw error\r\n        return data\r\n    },\r\n\r\n    async sendMessage(message: any) {\r\n        const { data, error } = await supabase\r\n            .from('chat_messages')\r\n            .insert(message)\r\n            .select()\r\n            .single()\r\n        if (error) throw error\r\n        return data\r\n    },\r\n\r\n    async markAsRead(messageId: string) {\r\n        const { data, error } = await supabase\r\n            .from('chat_messages')\r\n            .update({ is_read: true })\r\n            .eq('id', messageId)\r\n            .select()\r\n            .single()\r\n        if (error) throw error\r\n        return data\r\n    },\r\n\r\n    // Real-time subscriptions\r\n    subscribeToSession(sessionId: string, callback: (payload: any) => void) {\r\n        return supabase\r\n            .channel(`chat:${sessionId}`)\r\n            .on('postgres_changes', {\r\n                event: '*',\r\n                schema: 'public',\r\n                table: 'chat_messages',\r\n                filter: `session_id=eq.${sessionId}`\r\n            }, callback)\r\n            .subscribe()\r\n    }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/bigweb-ff2/src/components/ui/select.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className,\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label ref={ref} className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)} {...props} />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AAEA;;;;;;AAEA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,2KAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,6LAAC,gOAAS;YAAC,WAAU;;;;;;;;;;;MATnB;AAYN,qBAAqB,WAAW,GAAG,uLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,2KAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,6LAAC,sOAAW;YAAC,WAAU;;;;;;;;;;;MATrB;AAYN,uBAAuB,WAAW,GAAG,yLAAgC,CAAC,WAAW;AAEjF,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,KAAK;YACL,WAAW,IAAA,4HAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,4HAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,0CAA0C;QAAa,GAAG,KAAK;;;;;;;AAEhH,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,gNAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,2KAAgB,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,kLAAyB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QAAa,GAAG,KAAK;;;;;;;AAEtG,gBAAgB,WAAW,GAAG,kLAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/bigweb-ff2/app/admin/chat/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { motion } from 'framer-motion'\r\nimport { Search, MessageCircle, UserCircle, Loader2 } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { chatAPI } from '@/lib/api/chat'\r\nimport { useAuth } from '@/hooks/useAuth'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { toast } from 'sonner'\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\"\r\n\r\nexport default function ChatPage() {\r\n    const { user } = useAuth()\r\n    const [sessions, setSessions] = useState<any[]>([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [searchQuery, setSearchQuery] = useState('')\r\n    const [statusFilter, setStatusFilter] = useState<string>('all')\r\n\r\n    useEffect(() => {\r\n        loadSessions()\r\n    }, [statusFilter])\r\n\r\n    const loadSessions = async () => {\r\n        try {\r\n            const data = await chatAPI.getAllSessions(statusFilter && statusFilter !== 'all' ? { status: statusFilter } : undefined)\r\n            setSessions(data || [])\r\n        } catch (error) {\r\n            toast.error('Failed to load chat sessions')\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const handleAssign = async (sessionId: string) => {\r\n        if (!user) return\r\n\r\n        try {\r\n            await chatAPI.assignSession(sessionId, user.id)\r\n            loadSessions()\r\n            toast.success('Session assigned')\r\n        } catch (error) {\r\n            toast.error('Failed to assign session')\r\n        }\r\n    }\r\n\r\n    const filteredSessions = sessions.filter(session =>\r\n        session.visitor_name?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        session.visitor_email?.toLowerCase().includes(searchQuery.toLowerCase())\r\n    )\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold mb-2\">Chat Sessions</h1>\r\n                    <p className=\"text-muted-foreground\">Manage visitor conversations</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4 bg-card p-4 rounded-xl border border-border\">\r\n                <div className=\"relative flex-1 max-w-sm\">\r\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\r\n                    <Input\r\n                        placeholder=\"Search sessions...\"\r\n                        value={searchQuery}\r\n                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                        className=\"pl-9\"\r\n                    />\r\n                </div>\r\n                <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                    <SelectTrigger className=\"w-[180px]\">\r\n                        <SelectValue placeholder=\"All statuses\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                        <SelectItem value=\"all\">All</SelectItem>\r\n                        <SelectItem value=\"active\">Active</SelectItem>\r\n                        <SelectItem value=\"waiting\">Waiting</SelectItem>\r\n                        <SelectItem value=\"closed\">Closed</SelectItem>\r\n                    </SelectContent>\r\n                </Select>\r\n            </div>\r\n\r\n            {loading ? (\r\n                <div className=\"flex items-center justify-center py-20\">\r\n                    <Loader2 className=\"w-8 h-8 animate-spin text-muted-foreground\" />\r\n                </div>\r\n            ) : filteredSessions.length === 0 ? (\r\n                <div className=\"text-center py-20 bg-card rounded-xl border border-border border-dashed\">\r\n                    <MessageCircle className=\"w-12 h-12 mx-auto mb-4 opacity-20\" />\r\n                    <p className=\"text-muted-foreground\">No active chat sessions</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n                    {filteredSessions.map((session, index) => (\r\n                        <motion.div\r\n                            key={session.id}\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            transition={{ delay: index * 0.05 }}\r\n                            className=\"bg-card border border-border rounded-xl p-6 hover:shadow-lg transition-all\"\r\n                        >\r\n                            <div className=\"flex items-start justify-between mb-4\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"w-10 h-10 rounded-full bg-accent/10 flex items-center justify-center\">\r\n                                        <UserCircle className=\"w-6 h-6 text-accent\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <h3 className=\"font-bold\">{session.visitor_name || 'Anonymous'}</h3>\r\n                                        <p className=\"text-sm text-muted-foreground\">{session.visitor_email}</p>\r\n                                    </div>\r\n                                </div>\r\n                                <span className={`px-2 py-1 rounded-full text-xs font-medium ${session.status === 'active' ? 'bg-green-500/10 text-green-500' :\r\n                                    session.status === 'waiting' ? 'bg-blue-500/10 text-blue-500' :\r\n                                        'bg-secondary text-muted-foreground'\r\n                                    }`}>\r\n                                    {session.status}\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"text-sm text-muted-foreground\">\r\n                                    {session.assigned?.full_name ? (\r\n                                        <span>Assigned to {session.assigned.full_name}</span>\r\n                                    ) : (\r\n                                        <span>Unassigned</span>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"flex gap-2\">\r\n                                    {!session.assigned_to && (\r\n                                        <Button size=\"sm\" variant=\"outline\" onClick={() => handleAssign(session.id)}>\r\n                                            Assign to Me\r\n                                        </Button>\r\n                                    )}\r\n                                    <Link href={`/admin/chat/${session.id}`}>\r\n                                        <Button size=\"sm\" className=\"bg-accent hover:bg-accent/90\">\r\n                                            View Chat\r\n                                        </Button>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"mt-4 pt-4 border-t border-border text-xs text-muted-foreground\">\r\n                                Started {new Date(session.created_at).toLocaleString()}\r\n                            </div>\r\n                        </motion.div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}